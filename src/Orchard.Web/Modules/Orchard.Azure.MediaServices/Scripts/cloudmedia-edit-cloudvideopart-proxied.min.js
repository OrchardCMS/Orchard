var Orchard;!function(e){var a;!function(e){var a;!function(e){var a;!function(e){function a(){var e=!0;return r.find("input[name$='.OriginalFileName'], input.sync-upload-input").each(function(){return""==$(this).val()?(e=!1,!1):void 0}),e}function i(){a()&&l.unblock()}function t(e,a){var t=$(e).closest("[data-upload-accept-file-types]"),o=a.errorThrown&&a.errorThrown.length>0?a.errorThrown:a.textStatus;switch(t.find(".progress-bar").hide(),t.find(".progress-text").hide(),t.find(".cancel-upload").hide(),t.data("upload-isactive",!1),o){case"error":return void alert('The upload of the selected file failed. One possible cause is that the file size exceeds the configured maxRequestLength setting (see: http://msdn.microsoft.com/en-us/library/system.web.configuration.httpruntimesection.maxrequestlength(v=vs.110).aspx). Also make sure the executionTimeOut is set to allow for enough time for the request to execute when debug="false".');case"abort":return}var n=a.result.temporaryFileName,r=a.result.originalFileName,l=a.result.fileSize;t.find("input[name$='.OriginalFileName']").val(r),t.find("input[name$='.TemporaryFileName']").val(n),t.find("input[name$='.FileSize']").val(l),i(),$(e).replaceWith("<span>Successfully uploaded video file '"+r+"'.</span>")}function o(e){var a=$(e).closest("[data-upload-accept-file-types]"),i=a.data("upload-accept-file-types"),o=r.closest("form").find("[name='__RequestVerificationToken']").val(),n=a.find(".cancel-upload");e.fileupload({autoUpload:!1,acceptFileTypes:new RegExp(i,"i"),type:"POST",url:a.data("upload-fallback-url"),formData:{__RequestVerificationToken:o},progressall:function(e,i){var t=Math.floor(i.loaded/i.total*100);a.find(".progress-bar").show().find(".progress").css("width",t+"%"),a.find(".progress-text").show().text("Uploading ("+t+"%)...")},done:function(e,a){t(this,a)},fail:function(e,a){t(this,a)},processdone:function(e,i){a.find(".validation-text").hide(),a.data("upload-isactive",!0),n.show();var t=i.submit();a.data("xhr",t)},processfail:function(e,i){a.find(".validation-text").show()}}),n.on("click",function(e){if(e.preventDefault(),confirm("Are you sure you want to cancel this upload?")){var i=a.data("xhr");i.abort()}})}function n(){var e=$(".upload-proxied").show();r=e.find(".required-uploads-group"),l=e.find(".edit-item-sidebar"),u=r.length>0,u&&(l.block({message:r.data("block-description"),overlayCSS:{backgroundColor:"#fff",cursor:"default"},css:{cursor:"default",border:null,width:null,left:0,margin:"30px 0 0 0",backgroundColor:null}}),e.find(".async-upload-file-input").each(function(){o($(this))}),window.onbeforeunload=function(a){var i=!1;e.find("[data-upload-accept-file-types]").each(function(){return 1==$(this).data("upload-isactive")?(i=!0,!1):void 0}),i&&(a.returnValue="There are uploads in progress. These will be aborted if you navigate away.")},e.find(".sync-upload-input").on("change",function(e){i()}),i()),e.find("[data-prompt]").on("change",function(e){var a=$(e.currentTarget);confirm(a.data("prompt"))||a.val("")})}var r,l,u;e.initializeUploadProxied=n}(a=e.CloudVideoEdit||(e.CloudVideoEdit={}))}(a=e.MediaServices||(e.MediaServices={}))}(a=e.Azure||(e.Azure={}))}(Orchard||(Orchard={}));
