var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},Orchard;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.isSupported=function(){var e=document.createElement("video"),t=e&&e.canPlayType&&!!e.canPlayType('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),r=MediaSource&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.4d404f"'),i=_(this.filteredAssets().DynamicVideoAssets).any();this.debug("Browser supports HTML5 video and the H264 and AAC codecs: {0}",t),this.debug("Browser supports the Media Source Extensions API: {0}",r),this.debug("Item has at least one dynamic video asset: {0}",i);var o=t&&r&&i;return this.debug("isSupported() returns {0}.",o),o},t.prototype.inject=function(){var e=this,t=_(this.filteredAssets().DynamicVideoAssets).first(),r=_(this.filteredAssets().ThumbnailAssets).first();this.debug("Injecting player into element '{0}'.",this.container.id);var i=$("<video controls>").attr("width",this.playerWidth).attr("height",this.playerHeight);r&&i.attr("poster",r.MainFileUrl),i.appendTo(this.container);var o=t.MpegDashUrl,n=new Dash.di.DashContext,s=new MediaPlayer(n);s.startup(),s.addEventListener("error",function(t){e.debug("Error of type '{0}' detected; cleaning up container and faulting this injector.",t.error),e.fault()}),s.debug.setLogToBrowserConsole(!1),s.attachView(i[0]),s.attachSource(o),s.setAutoPlay(this.autoPlay)},t.prototype.debug=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e.prototype.debug.call(this,"DashInjector: "+t,r)},t}(e.Injector);e.DashInjector=t}(t=e.Injectors||(e.Injectors={}))}(t=e.VideoPlayer||(e.VideoPlayer={}))}(t=e.MediaServices||(e.MediaServices={}))}(t=e.Azure||(e.Azure={}))}(Orchard||(Orchard={}));
