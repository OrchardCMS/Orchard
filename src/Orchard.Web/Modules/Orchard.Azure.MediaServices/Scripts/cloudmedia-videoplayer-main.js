/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/// <reference path="Typings/jquery.d.ts" />
/// <reference path="Typings/underscore.d.ts" />
var Orchard;
(function (Orchard) {
    var Azure;
    (function (Azure) {
        var MediaServices;
        (function (MediaServices) {
            var VideoPlayer;
            (function (VideoPlayer) {
                var Injectors = Orchard.Azure.MediaServices.VideoPlayer.Injectors;
                $(function () {
                    $(".cloudmedia-videoplayer-container").each(function (index, elem) {
                        var container = elem;
                        var assetData = $(elem).data("cloudvideo-player-assetdata");
                        var playerWidth = $(elem).data("cloudvideo-player-width");
                        var playerHeight = $(elem).data("cloudvideo-player-height");
                        var applyMediaQueries = $(elem).data("cloudvideo-player-applymediaqueries");
                        var autoPlay = $(elem).data("cloudvideo-player-autoplay");
                        var contentBaseUrl = $(elem).data("cloudvideo-player-content-baseurl");
                        var errorText = $(elem).data("cloudvideo-player-errortext");
                        var altText = $(elem).data("cloudvideo-player-alttext");
                        var retryText = $(elem).data("cloudvideo-player-retrytext");
                        function invokeInjectors() {
                            $(container).empty();
                            var alternateContent = [
                                $("<span>").addClass("cloudvideo-player-error-text").text(errorText),
                                $("<button>").addClass("cloudvideo-player-retry-button").text(retryText).click(function () {
                                    invokeInjectors();
                                }),
                                $("<span>").addClass("cloudvideo-player-alt-text").text(altText)
                            ];
                            // Construct a chain of injectors (each will invoke the next on failure).
                            var altInjector = new Injectors.AltInjector(container, playerWidth, playerHeight, assetData, applyMediaQueries, true, null, alternateContent);
                            var html5Injector = new Injectors.Html5Injector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, altInjector);
                            var dashInjector = new Injectors.DashInjector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, html5Injector);
                            var smpInjector = new Injectors.SmpInjector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, dashInjector, contentBaseUrl);
                            var firstInjector = smpInjector;
                            firstInjector.invoke();
                        }
                        invokeInjectors();
                    });
                });
            })(VideoPlayer = MediaServices.VideoPlayer || (MediaServices.VideoPlayer = {}));
        })(MediaServices = Azure.MediaServices || (Azure.MediaServices = {}));
    })(Azure = Orchard.Azure || (Orchard.Azure = {}));
})(Orchard || (Orchard = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3VkbWVkaWEtdmlkZW9wbGF5ZXItbWFpbi5qcyIsImNsb3VkbWVkaWEtdmlkZW9wbGF5ZXItbWFpbi50cyJdLCJuYW1lcyI6WyJPcmNoYXJkIiwiT3JjaGFyZC5BenVyZSIsIk9yY2hhcmQuQXp1cmUuTWVkaWFTZXJ2aWNlcyIsIk9yY2hhcmQuQXp1cmUuTWVkaWFTZXJ2aWNlcy5WaWRlb1BsYXllciIsImludm9rZUluamVjdG9ycyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEFDTEEsNENBQTRDO0FBQzVDLGdEQUFnRDtBQUVoRCxJQUFPLE9BQU8sQ0E0Q2I7QUE1Q0QsV0FBTyxPQUFPO0lBQUNBLElBQUFBLEtBQUtBLENBNENuQkE7SUE1Q2NBLFdBQUFBLEtBQUtBO1FBQUNDLElBQUFBLGFBQWFBLENBNENqQ0E7UUE1Q29CQSxXQUFBQSxhQUFhQTtZQUFDQyxJQUFBQSxXQUFXQSxDQTRDN0NBO1lBNUNrQ0EsV0FBQUEsV0FBV0EsRUFBQ0EsQ0FBQ0E7Z0JBRzVDQyxJQUFPQSxTQUFTQSxHQUFHQSxPQUFPQSxDQUFDQSxLQUFLQSxDQUFDQSxhQUFhQSxDQUFDQSxXQUFXQSxDQUFDQSxTQUFTQSxDQUFDQTtnQkFFckVBLENBQUNBLENBQUNBO29CQUNFLENBQUMsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEtBQUssRUFBRSxJQUFJO3dCQUM3RCxJQUFJLFNBQVMsR0FBZ0IsSUFBSSxDQUFDO3dCQUVsQyxJQUFJLFNBQVMsR0FBb0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO3dCQUM3RSxJQUFJLFdBQVcsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7d0JBQ2xFLElBQUksWUFBWSxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsMEJBQTBCLENBQUMsQ0FBQzt3QkFD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YkEsbUJBQWFBLEtBQWJBLG1CQUFhQSxRQTRDakNBO0lBQURBLENBQUNBLEVBNUNjRCxLQUFLQSxHQUFMQSxhQUFLQSxLQUFMQSxhQUFLQSxRQTRDbkJBO0FBQURBLENBQUNBLEVBNUNNLE9BQU8sS0FBUCxPQUFPLFFBNENiIiwiZmlsZSI6ImNsb3VkbWVkaWEtdmlkZW9wbGF5ZXItbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIlR5cGluZ3MvanF1ZXJ5LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiVHlwaW5ncy91bmRlcnNjb3JlLmQudHNcIiAvPlxyXG5cclxubW9kdWxlIE9yY2hhcmQuQXp1cmUuTWVkaWFTZXJ2aWNlcy5WaWRlb1BsYXllciB7XHJcblxyXG4gICAgaW1wb3J0IERhdGEgPSBPcmNoYXJkLkF6dXJlLk1lZGlhU2VydmljZXMuVmlkZW9QbGF5ZXIuRGF0YTtcclxuICAgIGltcG9ydCBJbmplY3RvcnMgPSBPcmNoYXJkLkF6dXJlLk1lZGlhU2VydmljZXMuVmlkZW9QbGF5ZXIuSW5qZWN0b3JzO1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCIuY2xvdWRtZWRpYS12aWRlb3BsYXllci1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW0pIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IDxIVE1MRWxlbWVudD5lbGVtO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFzc2V0RGF0YTogRGF0YS5JQXNzZXREYXRhID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItYXNzZXRkYXRhXCIpO1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyV2lkdGg6IG51bWJlciA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLXdpZHRoXCIpO1xyXG4gICAgICAgICAgICB2YXIgcGxheWVySGVpZ2h0OiBudW1iZXIgPSAkKGVsZW0pLmRhdGEoXCJjbG91ZHZpZGVvLXBsYXllci1oZWlnaHRcIik7XHJcbiAgICAgICAgICAgIHZhciBhcHBseU1lZGlhUXVlcmllczogYm9vbGVhbiA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWFwcGx5bWVkaWFxdWVyaWVzXCIpO1xyXG4gICAgICAgICAgICB2YXIgYXV0b1BsYXk6IGJvb2xlYW4gPSAkKGVsZW0pLmRhdGEoXCJjbG91ZHZpZGVvLXBsYXllci1hdXRvcGxheVwiKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRCYXNlVXJsOiBzdHJpbmcgPSAkKGVsZW0pLmRhdGEoXCJjbG91ZHZpZGVvLXBsYXllci1jb250ZW50LWJhc2V1cmxcIik7XHJcbiAgICAgICAgICAgIHZhciBlcnJvclRleHQ6IHN0cmluZyA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWVycm9ydGV4dFwiKTtcclxuICAgICAgICAgICAgdmFyIGFsdFRleHQ6IHN0cmluZyA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWFsdHRleHRcIik7XHJcbiAgICAgICAgICAgIHZhciByZXRyeVRleHQ6IHN0cmluZyA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLXJldHJ5dGV4dFwiKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGludm9rZUluamVjdG9ycygpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkKGNvbnRhaW5lcikuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRlQ29udGVudCA9IFtcclxuICAgICAgICAgICAgICAgICAgICAkKFwiPHNwYW4+XCIpLmFkZENsYXNzKFwiY2xvdWR2aWRlby1wbGF5ZXItZXJyb3ItdGV4dFwiKS50ZXh0KGVycm9yVGV4dCksXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxidXR0b24+XCIpLmFkZENsYXNzKFwiY2xvdWR2aWRlby1wbGF5ZXItcmV0cnktYnV0dG9uXCIpLnRleHQocmV0cnlUZXh0KS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZUluamVjdG9ycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJjbG91ZHZpZGVvLXBsYXllci1hbHQtdGV4dFwiKS50ZXh0KGFsdFRleHQpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbnN0cnVjdCBhIGNoYWluIG9mIGluamVjdG9ycyAoZWFjaCB3aWxsIGludm9rZSB0aGUgbmV4dCBvbiBmYWlsdXJlKS5cclxuICAgICAgICAgICAgICAgIHZhciBhbHRJbmplY3RvciA9IG5ldyBJbmplY3RvcnMuQWx0SW5qZWN0b3IoY29udGFpbmVyLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0LCBhc3NldERhdGEsIGFwcGx5TWVkaWFRdWVyaWVzLCB0cnVlLCBudWxsLCBhbHRlcm5hdGVDb250ZW50KTtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sNUluamVjdG9yID0gbmV3IEluamVjdG9ycy5IdG1sNUluamVjdG9yKGNvbnRhaW5lciwgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCwgYXV0b1BsYXksIGFzc2V0RGF0YSwgYXBwbHlNZWRpYVF1ZXJpZXMsIHRydWUsIGFsdEluamVjdG9yKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXNoSW5qZWN0b3IgPSBuZXcgSW5qZWN0b3JzLkRhc2hJbmplY3Rvcihjb250YWluZXIsIHBsYXllcldpZHRoLCBwbGF5ZXJIZWlnaHQsIGF1dG9QbGF5LCBhc3NldERhdGEsIGFwcGx5TWVkaWFRdWVyaWVzLCB0cnVlLCBodG1sNUluamVjdG9yKTtcclxuICAgICAgICAgICAgICAgIHZhciBzbXBJbmplY3RvciA9IG5ldyBJbmplY3RvcnMuU21wSW5qZWN0b3IoY29udGFpbmVyLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0LCBhdXRvUGxheSwgYXNzZXREYXRhLCBhcHBseU1lZGlhUXVlcmllcywgdHJ1ZSwgZGFzaEluamVjdG9yLCBjb250ZW50QmFzZVVybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0SW5qZWN0b3I6IEluamVjdG9ycy5JbmplY3RvciA9IHNtcEluamVjdG9yO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RJbmplY3Rvci5pbnZva2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW52b2tlSW5qZWN0b3JzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
