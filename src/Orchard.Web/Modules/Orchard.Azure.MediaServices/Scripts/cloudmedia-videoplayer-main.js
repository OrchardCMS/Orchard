/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/// <reference path="Typings/jquery.d.ts" />
/// <reference path="Typings/underscore.d.ts" />
var Orchard;
(function (Orchard) {
    var Azure;
    (function (Azure) {
        var MediaServices;
        (function (MediaServices) {
            var VideoPlayer;
            (function (VideoPlayer) {
                var Injectors = Orchard.Azure.MediaServices.VideoPlayer.Injectors;
                $(function () {
                    $(".cloudmedia-videoplayer-container").each(function (index, elem) {
                        var container = elem;
                        var assetData = $(elem).data("cloudvideo-player-assetdata");
                        var playerWidth = $(elem).data("cloudvideo-player-width");
                        var playerHeight = $(elem).data("cloudvideo-player-height");
                        var applyMediaQueries = $(elem).data("cloudvideo-player-applymediaqueries");
                        var autoPlay = $(elem).data("cloudvideo-player-autoplay");
                        var contentBaseUrl = $(elem).data("cloudvideo-player-content-baseurl");
                        var errorText = $(elem).data("cloudvideo-player-errortext");
                        var altText = $(elem).data("cloudvideo-player-alttext");
                        var retryText = $(elem).data("cloudvideo-player-retrytext");
                        function invokeInjectors() {
                            $(container).empty();
                            var alternateContent = [
                                $("<span>").addClass("cloudvideo-player-error-text").text(errorText),
                                $("<button>").addClass("cloudvideo-player-retry-button").text(retryText).click(function () {
                                    invokeInjectors();
                                }),
                                $("<span>").addClass("cloudvideo-player-alt-text").text(altText)
                            ];
                            // Construct a chain of injectors (each will invoke the next on failure).
                            var altInjector = new Injectors.AltInjector(container, playerWidth, playerHeight, assetData, applyMediaQueries, true, null, alternateContent);
                            var html5Injector = new Injectors.Html5Injector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, altInjector);
                            var dashInjector = new Injectors.DashInjector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, html5Injector);
                            var smpInjector = new Injectors.SmpInjector(container, playerWidth, playerHeight, autoPlay, assetData, applyMediaQueries, true, dashInjector, contentBaseUrl);
                            var firstInjector = smpInjector;
                            firstInjector.invoke();
                        }
                        invokeInjectors();
                    });
                });
            })(VideoPlayer = MediaServices.VideoPlayer || (MediaServices.VideoPlayer = {}));
        })(MediaServices = Azure.MediaServices || (Azure.MediaServices = {}));
    })(Azure = Orchard.Azure || (Orchard.Azure = {}));
})(Orchard || (Orchard = {}));

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3VkbWVkaWEtdmlkZW9wbGF5ZXItbWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDRDQUE0QztBQUM1QyxnREFBZ0Q7QUFFaEQsSUFBTyxPQUFPLENBNENiO0FBNUNELFdBQU8sT0FBTztJQUFDLElBQUEsS0FBSyxDQTRDbkI7SUE1Q2MsV0FBQSxLQUFLO1FBQUMsSUFBQSxhQUFhLENBNENqQztRQTVDb0IsV0FBQSxhQUFhO1lBQUMsSUFBQSxXQUFXLENBNEM3QztZQTVDa0MsV0FBQSxXQUFXO2dCQUcxQyxJQUFPLFNBQVMsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDO2dCQUVyRSxDQUFDLENBQUM7b0JBQ0UsQ0FBQyxDQUFDLG1DQUFtQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxFQUFFLElBQUk7d0JBQzdELElBQUksU0FBUyxHQUFnQixJQUFJLENBQUM7d0JBRWxDLElBQUksU0FBUyxHQUFvQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLENBQUM7d0JBQzdFLElBQUksV0FBVyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQzt3QkFDbEUsSUFBSSxZQUFZLEdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO3dCQUNwRSxJQUFJLGlCQUFpQixHQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMscUNBQXFDLENBQUMsQ0FBQzt3QkFDckYsSUFBSSxRQUFRLEdBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO3dCQUNuRSxJQUFJLGNBQWMsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLG1DQUFtQyxDQUFDLENBQUM7d0JBQy9FLElBQUksU0FBUyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQzt3QkFDcEUsSUFBSSxPQUFPLEdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO3dCQUNoRSxJQUFJLFNBQVMsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDLENBQUM7d0JBRXBFOzRCQUVJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQzs0QkFFckIsSUFBSSxnQkFBZ0IsR0FBRztnQ0FDbkIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7Z0NBQ3BFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMsZ0NBQWdDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFDO29DQUMzRSxlQUFlLEVBQUUsQ0FBQztnQ0FDdEIsQ0FBQyxDQUFDO2dDQUNGLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDOzZCQUNuRSxDQUFDOzRCQUVGLHlFQUF5RTs0QkFDekUsSUFBSSxXQUFXLEdBQUcsSUFBSSxTQUFTLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7NEJBQzlJLElBQUksYUFBYSxHQUFHLElBQUksU0FBUyxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQzs0QkFDakosSUFBSSxZQUFZLEdBQUcsSUFBSSxTQUFTLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDOzRCQUNqSixJQUFJLFdBQVcsR0FBRyxJQUFJLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDOzRCQUU5SixJQUFJLGFBQWEsR0FBdUIsV0FBVyxDQUFDOzRCQUNwRCxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUM7d0JBQzNCLENBQUM7d0JBRUQsZUFBZSxFQUFFLENBQUM7b0JBQ3RCLENBQUMsQ0FBQyxDQUFDO2dCQUNQLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxFQTVDa0MsV0FBVyxHQUFYLHlCQUFXLEtBQVgseUJBQVcsUUE0QzdDO1FBQUQsQ0FBQyxFQTVDb0IsYUFBYSxHQUFiLG1CQUFhLEtBQWIsbUJBQWEsUUE0Q2pDO0lBQUQsQ0FBQyxFQTVDYyxLQUFLLEdBQUwsYUFBSyxLQUFMLGFBQUssUUE0Q25CO0FBQUQsQ0FBQyxFQTVDTSxPQUFPLEtBQVAsT0FBTyxRQTRDYiIsImZpbGUiOiJjbG91ZG1lZGlhLXZpZGVvcGxheWVyLW1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiVHlwaW5ncy9qcXVlcnkuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJUeXBpbmdzL3VuZGVyc2NvcmUuZC50c1wiIC8+XHJcblxyXG5tb2R1bGUgT3JjaGFyZC5BenVyZS5NZWRpYVNlcnZpY2VzLlZpZGVvUGxheWVyIHtcclxuXHJcbiAgICBpbXBvcnQgRGF0YSA9IE9yY2hhcmQuQXp1cmUuTWVkaWFTZXJ2aWNlcy5WaWRlb1BsYXllci5EYXRhO1xyXG4gICAgaW1wb3J0IEluamVjdG9ycyA9IE9yY2hhcmQuQXp1cmUuTWVkaWFTZXJ2aWNlcy5WaWRlb1BsYXllci5JbmplY3RvcnM7XHJcblxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJChcIi5jbG91ZG1lZGlhLXZpZGVvcGxheWVyLWNvbnRhaW5lclwiKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gPEhUTUxFbGVtZW50PmVsZW07XHJcblxyXG4gICAgICAgICAgICB2YXIgYXNzZXREYXRhOiBEYXRhLklBc3NldERhdGEgPSAkKGVsZW0pLmRhdGEoXCJjbG91ZHZpZGVvLXBsYXllci1hc3NldGRhdGFcIik7XHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXJXaWR0aDogbnVtYmVyID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItd2lkdGhcIik7XHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXJIZWlnaHQ6IG51bWJlciA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWhlaWdodFwiKTtcclxuICAgICAgICAgICAgdmFyIGFwcGx5TWVkaWFRdWVyaWVzOiBib29sZWFuID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItYXBwbHltZWRpYXF1ZXJpZXNcIik7XHJcbiAgICAgICAgICAgIHZhciBhdXRvUGxheTogYm9vbGVhbiA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWF1dG9wbGF5XCIpO1xyXG4gICAgICAgICAgICB2YXIgY29udGVudEJhc2VVcmw6IHN0cmluZyA9ICQoZWxlbSkuZGF0YShcImNsb3VkdmlkZW8tcGxheWVyLWNvbnRlbnQtYmFzZXVybFwiKTtcclxuICAgICAgICAgICAgdmFyIGVycm9yVGV4dDogc3RyaW5nID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItZXJyb3J0ZXh0XCIpO1xyXG4gICAgICAgICAgICB2YXIgYWx0VGV4dDogc3RyaW5nID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItYWx0dGV4dFwiKTtcclxuICAgICAgICAgICAgdmFyIHJldHJ5VGV4dDogc3RyaW5nID0gJChlbGVtKS5kYXRhKFwiY2xvdWR2aWRlby1wbGF5ZXItcmV0cnl0ZXh0XCIpO1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW52b2tlSW5qZWN0b3JzKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQoY29udGFpbmVyKS5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhbHRlcm5hdGVDb250ZW50ID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCI8c3Bhbj5cIikuYWRkQ2xhc3MoXCJjbG91ZHZpZGVvLXBsYXllci1lcnJvci10ZXh0XCIpLnRleHQoZXJyb3JUZXh0KSxcclxuICAgICAgICAgICAgICAgICAgICAkKFwiPGJ1dHRvbj5cIikuYWRkQ2xhc3MoXCJjbG91ZHZpZGVvLXBsYXllci1yZXRyeS1idXR0b25cIikudGV4dChyZXRyeVRleHQpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW52b2tlSW5qZWN0b3JzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgJChcIjxzcGFuPlwiKS5hZGRDbGFzcyhcImNsb3VkdmlkZW8tcGxheWVyLWFsdC10ZXh0XCIpLnRleHQoYWx0VGV4dClcclxuICAgICAgICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IGEgY2hhaW4gb2YgaW5qZWN0b3JzIChlYWNoIHdpbGwgaW52b2tlIHRoZSBuZXh0IG9uIGZhaWx1cmUpLlxyXG4gICAgICAgICAgICAgICAgdmFyIGFsdEluamVjdG9yID0gbmV3IEluamVjdG9ycy5BbHRJbmplY3Rvcihjb250YWluZXIsIHBsYXllcldpZHRoLCBwbGF5ZXJIZWlnaHQsIGFzc2V0RGF0YSwgYXBwbHlNZWRpYVF1ZXJpZXMsIHRydWUsIG51bGwsIGFsdGVybmF0ZUNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGh0bWw1SW5qZWN0b3IgPSBuZXcgSW5qZWN0b3JzLkh0bWw1SW5qZWN0b3IoY29udGFpbmVyLCBwbGF5ZXJXaWR0aCwgcGxheWVySGVpZ2h0LCBhdXRvUGxheSwgYXNzZXREYXRhLCBhcHBseU1lZGlhUXVlcmllcywgdHJ1ZSwgYWx0SW5qZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhc2hJbmplY3RvciA9IG5ldyBJbmplY3RvcnMuRGFzaEluamVjdG9yKGNvbnRhaW5lciwgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCwgYXV0b1BsYXksIGFzc2V0RGF0YSwgYXBwbHlNZWRpYVF1ZXJpZXMsIHRydWUsIGh0bWw1SW5qZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNtcEluamVjdG9yID0gbmV3IEluamVjdG9ycy5TbXBJbmplY3Rvcihjb250YWluZXIsIHBsYXllcldpZHRoLCBwbGF5ZXJIZWlnaHQsIGF1dG9QbGF5LCBhc3NldERhdGEsIGFwcGx5TWVkaWFRdWVyaWVzLCB0cnVlLCBkYXNoSW5qZWN0b3IsIGNvbnRlbnRCYXNlVXJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RJbmplY3RvcjogSW5qZWN0b3JzLkluamVjdG9yID0gc21wSW5qZWN0b3I7XHJcbiAgICAgICAgICAgICAgICBmaXJzdEluamVjdG9yLmludm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpbnZva2VJbmplY3RvcnMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59Il19
