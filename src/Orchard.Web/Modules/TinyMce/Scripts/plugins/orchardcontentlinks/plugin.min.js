tinymce.PluginManager.add("orchardcontentlinks",function(n,t){var e=function(){var t={},e="_contentpicker_"+new Date().getTime();t.callbackName=e,$[e]=function(t){delete $[e];var A=n.selection.getContent();A&&""!=A||(A=t.displayText),n.insertContent('<a href="#{ContentManager.Get:'+t.id.toString()+'.DisplayUrl}">'+A+"</a>")},$[e].data=t;var A=baseOrchardPath;"/"==A.slice(-1)&&(A=A.substr(0,A.length-1));var a=A+"/Admin/Orchard.ContentPicker?";a+="callback="+e+"&"+(new Date-0),$("#"+n.id).data("content-types")&&(a+="&types="+$("#"+n.id).data("content-types")),window.open(a,"_blank",t.windowFeatures||"width=685,height=700,status=no,toolbar=no,location=no,menubar=no,resizable=no,scrollbars=yes")};return n.addButton("orchardlink",{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVRIibWW223CQBBFDxEFUAIdJNHsf6CCkApiKgBXAFSAUgFJBdCB4X9HogSX4A6Sjx0rK8cGY5P7sw9Z93h3HvYAk4jbAk/cpgLYqPpz0wODCJDZ9NTSfBVBpk2QKuCk6tdt3EXcN5BGoFrIQ8u3bdIZeAZyIBNxf664LwBVnwPTJkhvgEGKJsiwp/dCxE2i9RFYAlsD9gIcgRHwUtkv4kVngKqf1u2LuHUMvUsMLunfAVevSMQtCUf+UvWHWwEXTyDidoSMGAF7EZfcDWDmCTC3gM6BnYgb9wZYoSSEXlP2l3LsDCiAQzTPgXd+KzMDzqr+2Amg6t+AmXXViUHGBs0MWJv7rQB25yszWpn5xsYjoR0XVYNrGkbmCSGQr4SsyYG8qWLbqjxBAqSq/hP4MNDYQL1UFloBPEbzPeEENxdWEyAl5PiIEOCcjndeVfxNngELM08NdOtfBlgnLWM3qHvC8n7bwbzUWdWnAD+rk38HDdeC5gAAAABJRU5ErkJggg==",tooltip:"Content link",onclick:e}),n.addMenuItem("orchardlink ",{text:"content link",context:"insert",onclick:e}),{getMetadata:function(){return{name:"Orchard content link plugin"}}}});