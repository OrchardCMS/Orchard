/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/* http://keith-wood.name/calendars.html
   Calendars date picker extensions for jQuery v2.0.1.
   Written by Keith Wood (kbwood{at}iinet.com.au) August 2009.
   Available under the MIT (http://keith-wood.name/licence.html) license. 
   Please attribute the author if you use it. */

(function($) { // Hide scope, no $ conflict

	var themeRollerRenderer = {
		picker: '<div{popup:start} id="ui-datepicker-div"{popup:end} class="ui-datepicker ui-widget ' +
		'ui-widget-content ui-helper-clearfix ui-corner-all{inline:start} ui-datepicker-inline{inline:end}">' +
		'<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all">' +
		'{link:prev}{link:today}{link:next}</div>{months}' +
		'{popup:start}<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ' +
		'ui-corner-all">{button:clear}{button:close}</div>{popup:end}' +
		'<div class="ui-helper-clearfix"></div></div>',
		monthRow: '<div class="ui-datepicker-row-break">{months}</div>',
		month: '<div class="ui-datepicker-group">' +
		'<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all">{monthHeader:MM yyyy}</div>' +
		'<table class="ui-datepicker-calendar"><thead>{weekHeader}</thead><tbody>{weeks}</tbody></table></div>',
		weekHeader: '<tr>{days}</tr>',
		dayHeader: '<th>{day}</th>',
		week: '<tr>{days}</tr>',
		day: '<td>{day}</td>',
		monthSelector: '.ui-datepicker-group',
		daySelector: 'td',
		rtlClass: 'ui-datepicker-rtl',
		multiClass: 'ui-datepicker-multi',
		defaultClass: 'ui-state-default',
		selectedClass: 'ui-state-active',
		highlightedClass: 'ui-state-hover',
		todayClass: 'ui-state-highlight',
		otherMonthClass: 'ui-datepicker-other-month',
		weekendClass: 'ui-datepicker-week-end',
		commandClass: 'ui-datepicker-cmd',
		commandButtonClass: 'ui-state-default ui-corner-all',
		commandLinkClass: '',
		disabledClass: 'ui-datepicker-disabled'
	};

	$.extend($.calendarsPicker, {

		/** Template for generating a calendar picker showing week of year.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker */
		weekOfYearRenderer: $.extend({}, $.calendarsPicker.defaultRenderer, {
			weekHeader: '<tr><th class="calendars-week">' +
			'<span title="{l10n:weekStatus}">{l10n:weekText}</span></th>{days}</tr>',
			week: '<tr><td class="calendars-week">{weekOfYear}</td>{days}</tr>'
		}),

		/** ThemeRoller template for generating a calendar picker.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker */
		themeRollerRenderer: themeRollerRenderer,

		/** ThemeRoller template for generating a calendar picker showing week of year.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker */
		themeRollerWeekOfYearRenderer: $.extend({}, themeRollerRenderer, {
			weekHeader: '<tr><th class="ui-state-hover"><span>{l10n:weekText}</span></th>{days}</tr>',
			week: '<tr><td class="ui-state-hover">{weekOfYear}</td>{days}</tr>'
		}),

		/** Don't allow weekends to be selected.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param date {CDate} The current date.
			@return {object} Information about this date.
			@example onDate: $.calendarsPicker.noWeekends */
		noWeekends: function(date) {
			return {selectable: date.weekDay()};
		},

		/** Change the first day of the week by clicking on the day header.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.changeFirstDay */
		changeFirstDay: function(picker, calendar, inst) {
			var target = $(this);
			picker.find('th span').each(function() {
				if (this.parentNode.className.match(/.*calendars-week.*/)) {
					return;
				}
				$('<a href="javascript:void(0)" class="' + this.className +
						'" title="Change first day of the week">' + $(this).text() + '</a>').
					click(function() {
						var dow = parseInt(this.className.replace(/^.*calendars-dow-(\d+).*$/, '$1'), 10);
						target.calendarsPicker('option', {firstDay: dow});
					}).
					replaceAll(this);
			});
		},

		/** A function to call when a date is hovered.
			@callback CalendarsPickerOnHover
			@param date {CDate} The date being hovered or <code>null</code> on exit.
			@param selectable {boolean} <code>true</code> if this date is selectable, <code>false</code> if not.
			@example function showHovered(date, selectable) {
	$('#feedback').text('You are viewing ' + (date ? date.formatDate() : 'nothing'));
 } */

		/** Add a callback when hovering over dates.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param onHover {CalendarsPickerOnHover} The callback when hovering.
			@example onShow: $.calendarsPicker.hoverCallback(showHovered) */
		hoverCallback: function(onHover) {
			return function(picker, calendar, inst) {
				if ($.isFunction(onHover)) {
					var target = this;
					var renderer = inst.options.renderer;
					picker.find(renderer.daySelector + ' a, ' + renderer.daySelector + ' span').
						hover(function() {
							onHover.apply(target, [$(target).calendarsPicker('retrieveDate', this),
								this.nodeName.toLowerCase() === 'a']);
						},
						function() { onHover.apply(target, []); });
				}
			};
		},

		/** Highlight the entire week when hovering over it.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.highlightWeek */
		highlightWeek: function(picker, calendar, inst) {
			var target = this;
			var renderer = inst.options.renderer;
			picker.find(renderer.daySelector + ' a, ' + renderer.daySelector + ' span').
				hover(function() {
					$(this).parents('tr').find(renderer.daySelector + ' *').
						addClass(renderer.highlightedClass);
				},
				function() {
					$(this).parents('tr').find(renderer.daySelector + ' *').
						removeClass(renderer.highlightedClass);
				});
		},

		/** Show a status bar with messages.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.showStatus */
		showStatus: function(picker, calendar, inst) {
			var isTR = (inst.options.renderer.selectedClass === 'ui-state-active');
			var defaultStatus = inst.options.defaultStatus || '&#160;';
			var status = $('<div class="' + (!isTR ? 'calendars-status' :
				'ui-datepicker-status ui-widget-header ui-helper-clearfix ui-corner-all') + '">' +
				defaultStatus + '</div>').
				insertAfter(picker.find('.calendars-month-row:last,.ui-datepicker-row-break:last'));
			picker.find('*[title]').each(function() {
					var title = $(this).attr('title');
					$(this).removeAttr('title').hover(
						function() { status.text(title || defaultStatus); },
						function() { status.text(defaultStatus); });
				});
		},

		/** Allow easier navigation by month.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.monthNavigation */
		monthNavigation: function(picker, calendar, inst) {
			var target = $(this);
			var isTR = (inst.options.renderer.selectedClass === 'ui-state-active');
			var minDate = inst.curMinDate();
			var maxDate = inst.get('maxDate');
			var year = inst.drawDate.year();
			var html = '<div class="' + (!isTR ? 'calendars-month-nav' : 'ui-datepicker-month-nav') + '">';
			for (var i = 0; i < calendar.monthsInYear(year); i++) {
				var ord = calendar.fromMonthOfYear(year, i + calendar.minMonth) - calendar.minMonth;
				var inRange = ((!minDate || calendar.newDate(year, i + calendar.minMonth,
					calendar.daysInMonth(year, i + calendar.minMonth)).compareTo(minDate) > -1) && (!maxDate ||
					calendar.newDate(year, i + calendar.minMonth, calendar.minDay).compareTo(maxDate) < +1));
				html += '<div>' + (inRange ? '<a href="#" class="jd' +
					calendar.newDate(year, i + calendar.minMonth, calendar.minDay).toJD() + '"' : '<span') +
					' title="' + calendar.local.monthNames[ord] + '">' + calendar.local.monthNamesShort[ord] +
					(inRange ? '</a>' : '</span>') + '</div>';
			}
			html += '</div>';
			$(html).insertAfter(picker.find('div.calendars-nav,div.ui-datepicker-header:first')).
				find('a').click(function() {
					var date = target.calendarsPicker('retrieveDate', this);
					target.calendarsPicker('showMonth', date.year(), date.month());
					return false;
				});
		},

		/** Select an entire week when clicking on a week number.
			Use in conjunction with <code>weekOfYearRenderer</code>.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.selectWeek */
		selectWeek: function(picker, calendar, inst) {
			var target = $(this);
			picker.find('td.calendars-week span').each(function() {
				$('<a href="javascript:void(0)" class="' +
						this.className + '" title="Select the entire week">' +
						$(this).text() + '</a>').
					click(function() {
						var date = target.calendarsPicker('retrieveDate', this);
						var dates = [date];
						for (var i = 1; i < calendar.daysInWeek(); i++) {
							dates.push(date = date.newDate().add(1, 'd'));
						}
						if (inst.options.rangeSelect) {
							dates.splice(1, dates.length - 2);
						}
						target.calendarsPicker('setDate', dates).calendarsPicker('hide');
					}).
					replaceAll(this);
			});
		},

		/** Select an entire month when clicking on the week header.
			Use in conjunction with <code>weekOfYearRenderer</code>.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.selectMonth */
		selectMonth: function(picker, calendar, inst) {
			var target = $(this);
			picker.find('th.calendars-week').each(function() {
				$('<a href="javascript:void(0)" title="Select the entire month">' +
						$(this).text() + '</a>').
					click(function() {
						var date = target.calendarsPicker('retrieveDate', $(this).parents('table').
							find('td:not(.calendars-week) *:not(.calendars-other-month)')[0]);
						var dates = [date.day(1)];
						var dim = calendar.daysInMonth(date);
						for (var i = 1; i < dim; i++) {
							dates.push(date = date.newDate().add(1, 'd'));
						}
						if (inst.options.rangeSelect) {
							dates.splice(1, dates.length - 2);
						}
						target.calendarsPicker('setDate', dates).calendarsPicker('hide');
					}).
					appendTo(this);
			});
		},

		/** Select a month only instead of a single day.
			Found in the <code>jquery.calendars.picker.ext.js</code> module.
			@memberof CalendarsPicker
			@param picker {jQuery} The completed datepicker division.
			@param calendar {BaseCalendar} The calendar implementation.
			@param inst {object} The current instance settings.
			@example onShow: $.calendarsPicker.monthOnly */
		monthOnly: function(picker, calendar, inst) {
			var target = $(this);
			var selectMonth = $('<div style="text-align: center;"><button type="button">Select</button></div>').
				insertAfter(picker.find('.calendars-month-row:last,.ui-datepicker-row-break:last')).
				children().click(function() {
					var monthYear = picker.find('.calendars-month-year:first').val().split('/');
					target.calendarsPicker('setDate', calendar.newDate(
						parseInt(monthYear[1], 10), parseInt(monthYear[0], 10), calendar.minDay)).
						calendarsPicker('hide');
				});
			picker.find('.calendars-month-row table,.ui-datepicker-row-break table').remove();
		}
	});

})(jQuery);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQUFMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJqcXVlcnkuY2FsZW5kYXJzLnBpY2tlci5leHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBodHRwOi8va2VpdGgtd29vZC5uYW1lL2NhbGVuZGFycy5odG1sXHJcbiAgIENhbGVuZGFycyBkYXRlIHBpY2tlciBleHRlbnNpb25zIGZvciBqUXVlcnkgdjIuMC4xLlxyXG4gICBXcml0dGVuIGJ5IEtlaXRoIFdvb2QgKGtid29vZHthdH1paW5ldC5jb20uYXUpIEF1Z3VzdCAyMDA5LlxyXG4gICBBdmFpbGFibGUgdW5kZXIgdGhlIE1JVCAoaHR0cDovL2tlaXRoLXdvb2QubmFtZS9saWNlbmNlLmh0bWwpIGxpY2Vuc2UuIFxyXG4gICBQbGVhc2UgYXR0cmlidXRlIHRoZSBhdXRob3IgaWYgeW91IHVzZSBpdC4gKi9cclxuXHJcbihmdW5jdGlvbigkKSB7IC8vIEhpZGUgc2NvcGUsIG5vICQgY29uZmxpY3RcclxuXHJcblx0dmFyIHRoZW1lUm9sbGVyUmVuZGVyZXIgPSB7XHJcblx0XHRwaWNrZXI6ICc8ZGl2e3BvcHVwOnN0YXJ0fSBpZD1cInVpLWRhdGVwaWNrZXItZGl2XCJ7cG9wdXA6ZW5kfSBjbGFzcz1cInVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0ICcgK1xyXG5cdFx0J3VpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxse2lubGluZTpzdGFydH0gdWktZGF0ZXBpY2tlci1pbmxpbmV7aW5saW5lOmVuZH1cIj4nICtcclxuXHRcdCc8ZGl2IGNsYXNzPVwidWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbFwiPicgK1xyXG5cdFx0J3tsaW5rOnByZXZ9e2xpbms6dG9kYXl9e2xpbms6bmV4dH08L2Rpdj57bW9udGhzfScgK1xyXG5cdFx0J3twb3B1cDpzdGFydH08ZGl2IGNsYXNzPVwidWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXggJyArXHJcblx0XHQndWktY29ybmVyLWFsbFwiPntidXR0b246Y2xlYXJ9e2J1dHRvbjpjbG9zZX08L2Rpdj57cG9wdXA6ZW5kfScgK1xyXG5cdFx0JzxkaXYgY2xhc3M9XCJ1aS1oZWxwZXItY2xlYXJmaXhcIj48L2Rpdj48L2Rpdj4nLFxyXG5cdFx0bW9udGhSb3c6ICc8ZGl2IGNsYXNzPVwidWktZGF0ZXBpY2tlci1yb3ctYnJlYWtcIj57bW9udGhzfTwvZGl2PicsXHJcblx0XHRtb250aDogJzxkaXYgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWdyb3VwXCI+JyArXHJcblx0XHQnPGRpdiBjbGFzcz1cInVpLWRhdGVwaWNrZXItaGVhZGVyIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGxcIj57bW9udGhIZWFkZXI6TU0geXl5eX08L2Rpdj4nICtcclxuXHRcdCc8dGFibGUgY2xhc3M9XCJ1aS1kYXRlcGlja2VyLWNhbGVuZGFyXCI+PHRoZWFkPnt3ZWVrSGVhZGVyfTwvdGhlYWQ+PHRib2R5Pnt3ZWVrc308L3Rib2R5PjwvdGFibGU+PC9kaXY+JyxcclxuXHRcdHdlZWtIZWFkZXI6ICc8dHI+e2RheXN9PC90cj4nLFxyXG5cdFx0ZGF5SGVhZGVyOiAnPHRoPntkYXl9PC90aD4nLFxyXG5cdFx0d2VlazogJzx0cj57ZGF5c308L3RyPicsXHJcblx0XHRkYXk6ICc8dGQ+e2RheX08L3RkPicsXHJcblx0XHRtb250aFNlbGVjdG9yOiAnLnVpLWRhdGVwaWNrZXItZ3JvdXAnLFxyXG5cdFx0ZGF5U2VsZWN0b3I6ICd0ZCcsXHJcblx0XHRydGxDbGFzczogJ3VpLWRhdGVwaWNrZXItcnRsJyxcclxuXHRcdG11bHRpQ2xhc3M6ICd1aS1kYXRlcGlja2VyLW11bHRpJyxcclxuXHRcdGRlZmF1bHRDbGFzczogJ3VpLXN0YXRlLWRlZmF1bHQnLFxyXG5cdFx0c2VsZWN0ZWRDbGFzczogJ3VpLXN0YXRlLWFjdGl2ZScsXHJcblx0XHRoaWdobGlnaHRlZENsYXNzOiAndWktc3RhdGUtaG92ZXInLFxyXG5cdFx0dG9kYXlDbGFzczogJ3VpLXN0YXRlLWhpZ2hsaWdodCcsXHJcblx0XHRvdGhlck1vbnRoQ2xhc3M6ICd1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoJyxcclxuXHRcdHdlZWtlbmRDbGFzczogJ3VpLWRhdGVwaWNrZXItd2Vlay1lbmQnLFxyXG5cdFx0Y29tbWFuZENsYXNzOiAndWktZGF0ZXBpY2tlci1jbWQnLFxyXG5cdFx0Y29tbWFuZEJ1dHRvbkNsYXNzOiAndWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsJyxcclxuXHRcdGNvbW1hbmRMaW5rQ2xhc3M6ICcnLFxyXG5cdFx0ZGlzYWJsZWRDbGFzczogJ3VpLWRhdGVwaWNrZXItZGlzYWJsZWQnXHJcblx0fTtcclxuXHJcblx0JC5leHRlbmQoJC5jYWxlbmRhcnNQaWNrZXIsIHtcclxuXHJcblx0XHQvKiogVGVtcGxhdGUgZm9yIGdlbmVyYXRpbmcgYSBjYWxlbmRhciBwaWNrZXIgc2hvd2luZyB3ZWVrIG9mIHllYXIuXHJcblx0XHRcdEZvdW5kIGluIHRoZSA8Y29kZT5qcXVlcnkuY2FsZW5kYXJzLnBpY2tlci5leHQuanM8L2NvZGU+IG1vZHVsZS5cclxuXHRcdFx0QG1lbWJlcm9mIENhbGVuZGFyc1BpY2tlciAqL1xyXG5cdFx0d2Vla09mWWVhclJlbmRlcmVyOiAkLmV4dGVuZCh7fSwgJC5jYWxlbmRhcnNQaWNrZXIuZGVmYXVsdFJlbmRlcmVyLCB7XHJcblx0XHRcdHdlZWtIZWFkZXI6ICc8dHI+PHRoIGNsYXNzPVwiY2FsZW5kYXJzLXdlZWtcIj4nICtcclxuXHRcdFx0JzxzcGFuIHRpdGxlPVwie2wxMG46d2Vla1N0YXR1c31cIj57bDEwbjp3ZWVrVGV4dH08L3NwYW4+PC90aD57ZGF5c308L3RyPicsXHJcblx0XHRcdHdlZWs6ICc8dHI+PHRkIGNsYXNzPVwiY2FsZW5kYXJzLXdlZWtcIj57d2Vla09mWWVhcn08L3RkPntkYXlzfTwvdHI+J1xyXG5cdFx0fSksXHJcblxyXG5cdFx0LyoqIFRoZW1lUm9sbGVyIHRlbXBsYXRlIGZvciBnZW5lcmF0aW5nIGEgY2FsZW5kYXIgcGlja2VyLlxyXG5cdFx0XHRGb3VuZCBpbiB0aGUgPGNvZGU+anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIuZXh0LmpzPC9jb2RlPiBtb2R1bGUuXHJcblx0XHRcdEBtZW1iZXJvZiBDYWxlbmRhcnNQaWNrZXIgKi9cclxuXHRcdHRoZW1lUm9sbGVyUmVuZGVyZXI6IHRoZW1lUm9sbGVyUmVuZGVyZXIsXHJcblxyXG5cdFx0LyoqIFRoZW1lUm9sbGVyIHRlbXBsYXRlIGZvciBnZW5lcmF0aW5nIGEgY2FsZW5kYXIgcGlja2VyIHNob3dpbmcgd2VlayBvZiB5ZWFyLlxyXG5cdFx0XHRGb3VuZCBpbiB0aGUgPGNvZGU+anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIuZXh0LmpzPC9jb2RlPiBtb2R1bGUuXHJcblx0XHRcdEBtZW1iZXJvZiBDYWxlbmRhcnNQaWNrZXIgKi9cclxuXHRcdHRoZW1lUm9sbGVyV2Vla09mWWVhclJlbmRlcmVyOiAkLmV4dGVuZCh7fSwgdGhlbWVSb2xsZXJSZW5kZXJlciwge1xyXG5cdFx0XHR3ZWVrSGVhZGVyOiAnPHRyPjx0aCBjbGFzcz1cInVpLXN0YXRlLWhvdmVyXCI+PHNwYW4+e2wxMG46d2Vla1RleHR9PC9zcGFuPjwvdGg+e2RheXN9PC90cj4nLFxyXG5cdFx0XHR3ZWVrOiAnPHRyPjx0ZCBjbGFzcz1cInVpLXN0YXRlLWhvdmVyXCI+e3dlZWtPZlllYXJ9PC90ZD57ZGF5c308L3RyPidcclxuXHRcdH0pLFxyXG5cclxuXHRcdC8qKiBEb24ndCBhbGxvdyB3ZWVrZW5kcyB0byBiZSBzZWxlY3RlZC5cclxuXHRcdFx0Rm91bmQgaW4gdGhlIDxjb2RlPmpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qczwvY29kZT4gbW9kdWxlLlxyXG5cdFx0XHRAbWVtYmVyb2YgQ2FsZW5kYXJzUGlja2VyXHJcblx0XHRcdEBwYXJhbSBkYXRlIHtDRGF0ZX0gVGhlIGN1cnJlbnQgZGF0ZS5cclxuXHRcdFx0QHJldHVybiB7b2JqZWN0fSBJbmZvcm1hdGlvbiBhYm91dCB0aGlzIGRhdGUuXHJcblx0XHRcdEBleGFtcGxlIG9uRGF0ZTogJC5jYWxlbmRhcnNQaWNrZXIubm9XZWVrZW5kcyAqL1xyXG5cdFx0bm9XZWVrZW5kczogZnVuY3Rpb24oZGF0ZSkge1xyXG5cdFx0XHRyZXR1cm4ge3NlbGVjdGFibGU6IGRhdGUud2Vla0RheSgpfTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqIENoYW5nZSB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrIGJ5IGNsaWNraW5nIG9uIHRoZSBkYXkgaGVhZGVyLlxyXG5cdFx0XHRGb3VuZCBpbiB0aGUgPGNvZGU+anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIuZXh0LmpzPC9jb2RlPiBtb2R1bGUuXHJcblx0XHRcdEBtZW1iZXJvZiBDYWxlbmRhcnNQaWNrZXJcclxuXHRcdFx0QHBhcmFtIHBpY2tlciB7alF1ZXJ5fSBUaGUgY29tcGxldGVkIGRhdGVwaWNrZXIgZGl2aXNpb24uXHJcblx0XHRcdEBwYXJhbSBjYWxlbmRhciB7QmFzZUNhbGVuZGFyfSBUaGUgY2FsZW5kYXIgaW1wbGVtZW50YXRpb24uXHJcblx0XHRcdEBwYXJhbSBpbnN0IHtvYmplY3R9IFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxyXG5cdFx0XHRAZXhhbXBsZSBvblNob3c6ICQuY2FsZW5kYXJzUGlja2VyLmNoYW5nZUZpcnN0RGF5ICovXHJcblx0XHRjaGFuZ2VGaXJzdERheTogZnVuY3Rpb24ocGlja2VyLCBjYWxlbmRhciwgaW5zdCkge1xyXG5cdFx0XHR2YXIgdGFyZ2V0ID0gJCh0aGlzKTtcclxuXHRcdFx0cGlja2VyLmZpbmQoJ3RoIHNwYW4nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICh0aGlzLnBhcmVudE5vZGUuY2xhc3NOYW1lLm1hdGNoKC8uKmNhbGVuZGFycy13ZWVrLiovKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkKCc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCInICsgdGhpcy5jbGFzc05hbWUgK1xyXG5cdFx0XHRcdFx0XHQnXCIgdGl0bGU9XCJDaGFuZ2UgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrXCI+JyArICQodGhpcykudGV4dCgpICsgJzwvYT4nKS5cclxuXHRcdFx0XHRcdGNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZG93ID0gcGFyc2VJbnQodGhpcy5jbGFzc05hbWUucmVwbGFjZSgvXi4qY2FsZW5kYXJzLWRvdy0oXFxkKykuKiQvLCAnJDEnKSwgMTApO1xyXG5cdFx0XHRcdFx0XHR0YXJnZXQuY2FsZW5kYXJzUGlja2VyKCdvcHRpb24nLCB7Zmlyc3REYXk6IGRvd30pO1xyXG5cdFx0XHRcdFx0fSkuXHJcblx0XHRcdFx0XHRyZXBsYWNlQWxsKHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqIEEgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgZGF0ZSBpcyBob3ZlcmVkLlxyXG5cdFx0XHRAY2FsbGJhY2sgQ2FsZW5kYXJzUGlja2VyT25Ib3ZlclxyXG5cdFx0XHRAcGFyYW0gZGF0ZSB7Q0RhdGV9IFRoZSBkYXRlIGJlaW5nIGhvdmVyZWQgb3IgPGNvZGU+bnVsbDwvY29kZT4gb24gZXhpdC5cclxuXHRcdFx0QHBhcmFtIHNlbGVjdGFibGUge2Jvb2xlYW59IDxjb2RlPnRydWU8L2NvZGU+IGlmIHRoaXMgZGF0ZSBpcyBzZWxlY3RhYmxlLCA8Y29kZT5mYWxzZTwvY29kZT4gaWYgbm90LlxyXG5cdFx0XHRAZXhhbXBsZSBmdW5jdGlvbiBzaG93SG92ZXJlZChkYXRlLCBzZWxlY3RhYmxlKSB7XHJcblx0JCgnI2ZlZWRiYWNrJykudGV4dCgnWW91IGFyZSB2aWV3aW5nICcgKyAoZGF0ZSA/IGRhdGUuZm9ybWF0RGF0ZSgpIDogJ25vdGhpbmcnKSk7XHJcbiB9ICovXHJcblxyXG5cdFx0LyoqIEFkZCBhIGNhbGxiYWNrIHdoZW4gaG92ZXJpbmcgb3ZlciBkYXRlcy5cclxuXHRcdFx0Rm91bmQgaW4gdGhlIDxjb2RlPmpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qczwvY29kZT4gbW9kdWxlLlxyXG5cdFx0XHRAbWVtYmVyb2YgQ2FsZW5kYXJzUGlja2VyXHJcblx0XHRcdEBwYXJhbSBvbkhvdmVyIHtDYWxlbmRhcnNQaWNrZXJPbkhvdmVyfSBUaGUgY2FsbGJhY2sgd2hlbiBob3ZlcmluZy5cclxuXHRcdFx0QGV4YW1wbGUgb25TaG93OiAkLmNhbGVuZGFyc1BpY2tlci5ob3ZlckNhbGxiYWNrKHNob3dIb3ZlcmVkKSAqL1xyXG5cdFx0aG92ZXJDYWxsYmFjazogZnVuY3Rpb24ob25Ib3Zlcikge1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24ocGlja2VyLCBjYWxlbmRhciwgaW5zdCkge1xyXG5cdFx0XHRcdGlmICgkLmlzRnVuY3Rpb24ob25Ib3ZlcikpIHtcclxuXHRcdFx0XHRcdHZhciB0YXJnZXQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0dmFyIHJlbmRlcmVyID0gaW5zdC5vcHRpb25zLnJlbmRlcmVyO1xyXG5cdFx0XHRcdFx0cGlja2VyLmZpbmQocmVuZGVyZXIuZGF5U2VsZWN0b3IgKyAnIGEsICcgKyByZW5kZXJlci5kYXlTZWxlY3RvciArICcgc3BhbicpLlxyXG5cdFx0XHRcdFx0XHRob3ZlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRvbkhvdmVyLmFwcGx5KHRhcmdldCwgWyQodGFyZ2V0KS5jYWxlbmRhcnNQaWNrZXIoJ3JldHJpZXZlRGF0ZScsIHRoaXMpLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYSddKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7IG9uSG92ZXIuYXBwbHkodGFyZ2V0LCBbXSk7IH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqIEhpZ2hsaWdodCB0aGUgZW50aXJlIHdlZWsgd2hlbiBob3ZlcmluZyBvdmVyIGl0LlxyXG5cdFx0XHRGb3VuZCBpbiB0aGUgPGNvZGU+anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIuZXh0LmpzPC9jb2RlPiBtb2R1bGUuXHJcblx0XHRcdEBtZW1iZXJvZiBDYWxlbmRhcnNQaWNrZXJcclxuXHRcdFx0QHBhcmFtIHBpY2tlciB7alF1ZXJ5fSBUaGUgY29tcGxldGVkIGRhdGVwaWNrZXIgZGl2aXNpb24uXHJcblx0XHRcdEBwYXJhbSBjYWxlbmRhciB7QmFzZUNhbGVuZGFyfSBUaGUgY2FsZW5kYXIgaW1wbGVtZW50YXRpb24uXHJcblx0XHRcdEBwYXJhbSBpbnN0IHtvYmplY3R9IFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxyXG5cdFx0XHRAZXhhbXBsZSBvblNob3c6ICQuY2FsZW5kYXJzUGlja2VyLmhpZ2hsaWdodFdlZWsgKi9cclxuXHRcdGhpZ2hsaWdodFdlZWs6IGZ1bmN0aW9uKHBpY2tlciwgY2FsZW5kYXIsIGluc3QpIHtcclxuXHRcdFx0dmFyIHRhcmdldCA9IHRoaXM7XHJcblx0XHRcdHZhciByZW5kZXJlciA9IGluc3Qub3B0aW9ucy5yZW5kZXJlcjtcclxuXHRcdFx0cGlja2VyLmZpbmQocmVuZGVyZXIuZGF5U2VsZWN0b3IgKyAnIGEsICcgKyByZW5kZXJlci5kYXlTZWxlY3RvciArICcgc3BhbicpLlxyXG5cdFx0XHRcdGhvdmVyKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnRzKCd0cicpLmZpbmQocmVuZGVyZXIuZGF5U2VsZWN0b3IgKyAnIConKS5cclxuXHRcdFx0XHRcdFx0YWRkQ2xhc3MocmVuZGVyZXIuaGlnaGxpZ2h0ZWRDbGFzcyk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdCQodGhpcykucGFyZW50cygndHInKS5maW5kKHJlbmRlcmVyLmRheVNlbGVjdG9yICsgJyAqJykuXHJcblx0XHRcdFx0XHRcdHJlbW92ZUNsYXNzKHJlbmRlcmVyLmhpZ2hsaWdodGVkQ2xhc3MpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKiogU2hvdyBhIHN0YXR1cyBiYXIgd2l0aCBtZXNzYWdlcy5cclxuXHRcdFx0Rm91bmQgaW4gdGhlIDxjb2RlPmpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qczwvY29kZT4gbW9kdWxlLlxyXG5cdFx0XHRAbWVtYmVyb2YgQ2FsZW5kYXJzUGlja2VyXHJcblx0XHRcdEBwYXJhbSBwaWNrZXIge2pRdWVyeX0gVGhlIGNvbXBsZXRlZCBkYXRlcGlja2VyIGRpdmlzaW9uLlxyXG5cdFx0XHRAcGFyYW0gY2FsZW5kYXIge0Jhc2VDYWxlbmRhcn0gVGhlIGNhbGVuZGFyIGltcGxlbWVudGF0aW9uLlxyXG5cdFx0XHRAcGFyYW0gaW5zdCB7b2JqZWN0fSBUaGUgY3VycmVudCBpbnN0YW5jZSBzZXR0aW5ncy5cclxuXHRcdFx0QGV4YW1wbGUgb25TaG93OiAkLmNhbGVuZGFyc1BpY2tlci5zaG93U3RhdHVzICovXHJcblx0XHRzaG93U3RhdHVzOiBmdW5jdGlvbihwaWNrZXIsIGNhbGVuZGFyLCBpbnN0KSB7XHJcblx0XHRcdHZhciBpc1RSID0gKGluc3Qub3B0aW9ucy5yZW5kZXJlci5zZWxlY3RlZENsYXNzID09PSAndWktc3RhdGUtYWN0aXZlJyk7XHJcblx0XHRcdHZhciBkZWZhdWx0U3RhdHVzID0gaW5zdC5vcHRpb25zLmRlZmF1bHRTdGF0dXMgfHwgJyYjMTYwOyc7XHJcblx0XHRcdHZhciBzdGF0dXMgPSAkKCc8ZGl2IGNsYXNzPVwiJyArICghaXNUUiA/ICdjYWxlbmRhcnMtc3RhdHVzJyA6XHJcblx0XHRcdFx0J3VpLWRhdGVwaWNrZXItc3RhdHVzIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnKSArICdcIj4nICtcclxuXHRcdFx0XHRkZWZhdWx0U3RhdHVzICsgJzwvZGl2PicpLlxyXG5cdFx0XHRcdGluc2VydEFmdGVyKHBpY2tlci5maW5kKCcuY2FsZW5kYXJzLW1vbnRoLXJvdzpsYXN0LC51aS1kYXRlcGlja2VyLXJvdy1icmVhazpsYXN0JykpO1xyXG5cdFx0XHRwaWNrZXIuZmluZCgnKlt0aXRsZV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRpdGxlID0gJCh0aGlzKS5hdHRyKCd0aXRsZScpO1xyXG5cdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVBdHRyKCd0aXRsZScpLmhvdmVyKFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbigpIHsgc3RhdHVzLnRleHQodGl0bGUgfHwgZGVmYXVsdFN0YXR1cyk7IH0sXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkgeyBzdGF0dXMudGV4dChkZWZhdWx0U3RhdHVzKTsgfSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKiBBbGxvdyBlYXNpZXIgbmF2aWdhdGlvbiBieSBtb250aC5cclxuXHRcdFx0Rm91bmQgaW4gdGhlIDxjb2RlPmpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qczwvY29kZT4gbW9kdWxlLlxyXG5cdFx0XHRAbWVtYmVyb2YgQ2FsZW5kYXJzUGlja2VyXHJcblx0XHRcdEBwYXJhbSBwaWNrZXIge2pRdWVyeX0gVGhlIGNvbXBsZXRlZCBkYXRlcGlja2VyIGRpdmlzaW9uLlxyXG5cdFx0XHRAcGFyYW0gY2FsZW5kYXIge0Jhc2VDYWxlbmRhcn0gVGhlIGNhbGVuZGFyIGltcGxlbWVudGF0aW9uLlxyXG5cdFx0XHRAcGFyYW0gaW5zdCB7b2JqZWN0fSBUaGUgY3VycmVudCBpbnN0YW5jZSBzZXR0aW5ncy5cclxuXHRcdFx0QGV4YW1wbGUgb25TaG93OiAkLmNhbGVuZGFyc1BpY2tlci5tb250aE5hdmlnYXRpb24gKi9cclxuXHRcdG1vbnRoTmF2aWdhdGlvbjogZnVuY3Rpb24ocGlja2VyLCBjYWxlbmRhciwgaW5zdCkge1xyXG5cdFx0XHR2YXIgdGFyZ2V0ID0gJCh0aGlzKTtcclxuXHRcdFx0dmFyIGlzVFIgPSAoaW5zdC5vcHRpb25zLnJlbmRlcmVyLnNlbGVjdGVkQ2xhc3MgPT09ICd1aS1zdGF0ZS1hY3RpdmUnKTtcclxuXHRcdFx0dmFyIG1pbkRhdGUgPSBpbnN0LmN1ck1pbkRhdGUoKTtcclxuXHRcdFx0dmFyIG1heERhdGUgPSBpbnN0LmdldCgnbWF4RGF0ZScpO1xyXG5cdFx0XHR2YXIgeWVhciA9IGluc3QuZHJhd0RhdGUueWVhcigpO1xyXG5cdFx0XHR2YXIgaHRtbCA9ICc8ZGl2IGNsYXNzPVwiJyArICghaXNUUiA/ICdjYWxlbmRhcnMtbW9udGgtbmF2JyA6ICd1aS1kYXRlcGlja2VyLW1vbnRoLW5hdicpICsgJ1wiPic7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2FsZW5kYXIubW9udGhzSW5ZZWFyKHllYXIpOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgb3JkID0gY2FsZW5kYXIuZnJvbU1vbnRoT2ZZZWFyKHllYXIsIGkgKyBjYWxlbmRhci5taW5Nb250aCkgLSBjYWxlbmRhci5taW5Nb250aDtcclxuXHRcdFx0XHR2YXIgaW5SYW5nZSA9ICgoIW1pbkRhdGUgfHwgY2FsZW5kYXIubmV3RGF0ZSh5ZWFyLCBpICsgY2FsZW5kYXIubWluTW9udGgsXHJcblx0XHRcdFx0XHRjYWxlbmRhci5kYXlzSW5Nb250aCh5ZWFyLCBpICsgY2FsZW5kYXIubWluTW9udGgpKS5jb21wYXJlVG8obWluRGF0ZSkgPiAtMSkgJiYgKCFtYXhEYXRlIHx8XHJcblx0XHRcdFx0XHRjYWxlbmRhci5uZXdEYXRlKHllYXIsIGkgKyBjYWxlbmRhci5taW5Nb250aCwgY2FsZW5kYXIubWluRGF5KS5jb21wYXJlVG8obWF4RGF0ZSkgPCArMSkpO1xyXG5cdFx0XHRcdGh0bWwgKz0gJzxkaXY+JyArIChpblJhbmdlID8gJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJqZCcgK1xyXG5cdFx0XHRcdFx0Y2FsZW5kYXIubmV3RGF0ZSh5ZWFyLCBpICsgY2FsZW5kYXIubWluTW9udGgsIGNhbGVuZGFyLm1pbkRheSkudG9KRCgpICsgJ1wiJyA6ICc8c3BhbicpICtcclxuXHRcdFx0XHRcdCcgdGl0bGU9XCInICsgY2FsZW5kYXIubG9jYWwubW9udGhOYW1lc1tvcmRdICsgJ1wiPicgKyBjYWxlbmRhci5sb2NhbC5tb250aE5hbWVzU2hvcnRbb3JkXSArXHJcblx0XHRcdFx0XHQoaW5SYW5nZSA/ICc8L2E+JyA6ICc8L3NwYW4+JykgKyAnPC9kaXY+JztcclxuXHRcdFx0fVxyXG5cdFx0XHRodG1sICs9ICc8L2Rpdj4nO1xyXG5cdFx0XHQkKGh0bWwpLmluc2VydEFmdGVyKHBpY2tlci5maW5kKCdkaXYuY2FsZW5kYXJzLW5hdixkaXYudWktZGF0ZXBpY2tlci1oZWFkZXI6Zmlyc3QnKSkuXHJcblx0XHRcdFx0ZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGRhdGUgPSB0YXJnZXQuY2FsZW5kYXJzUGlja2VyKCdyZXRyaWV2ZURhdGUnLCB0aGlzKTtcclxuXHRcdFx0XHRcdHRhcmdldC5jYWxlbmRhcnNQaWNrZXIoJ3Nob3dNb250aCcsIGRhdGUueWVhcigpLCBkYXRlLm1vbnRoKCkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvKiogU2VsZWN0IGFuIGVudGlyZSB3ZWVrIHdoZW4gY2xpY2tpbmcgb24gYSB3ZWVrIG51bWJlci5cclxuXHRcdFx0VXNlIGluIGNvbmp1bmN0aW9uIHdpdGggPGNvZGU+d2Vla09mWWVhclJlbmRlcmVyPC9jb2RlPi5cclxuXHRcdFx0Rm91bmQgaW4gdGhlIDxjb2RlPmpxdWVyeS5jYWxlbmRhcnMucGlja2VyLmV4dC5qczwvY29kZT4gbW9kdWxlLlxyXG5cdFx0XHRAbWVtYmVyb2YgQ2FsZW5kYXJzUGlja2VyXHJcblx0XHRcdEBwYXJhbSBwaWNrZXIge2pRdWVyeX0gVGhlIGNvbXBsZXRlZCBkYXRlcGlja2VyIGRpdmlzaW9uLlxyXG5cdFx0XHRAcGFyYW0gY2FsZW5kYXIge0Jhc2VDYWxlbmRhcn0gVGhlIGNhbGVuZGFyIGltcGxlbWVudGF0aW9uLlxyXG5cdFx0XHRAcGFyYW0gaW5zdCB7b2JqZWN0fSBUaGUgY3VycmVudCBpbnN0YW5jZSBzZXR0aW5ncy5cclxuXHRcdFx0QGV4YW1wbGUgb25TaG93OiAkLmNhbGVuZGFyc1BpY2tlci5zZWxlY3RXZWVrICovXHJcblx0XHRzZWxlY3RXZWVrOiBmdW5jdGlvbihwaWNrZXIsIGNhbGVuZGFyLCBpbnN0KSB7XHJcblx0XHRcdHZhciB0YXJnZXQgPSAkKHRoaXMpO1xyXG5cdFx0XHRwaWNrZXIuZmluZCgndGQuY2FsZW5kYXJzLXdlZWsgc3BhbicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCgnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiJyArXHJcblx0XHRcdFx0XHRcdHRoaXMuY2xhc3NOYW1lICsgJ1wiIHRpdGxlPVwiU2VsZWN0IHRoZSBlbnRpcmUgd2Vla1wiPicgK1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnRleHQoKSArICc8L2E+JykuXHJcblx0XHRcdFx0XHRjbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGRhdGUgPSB0YXJnZXQuY2FsZW5kYXJzUGlja2VyKCdyZXRyaWV2ZURhdGUnLCB0aGlzKTtcclxuXHRcdFx0XHRcdFx0dmFyIGRhdGVzID0gW2RhdGVdO1xyXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMTsgaSA8IGNhbGVuZGFyLmRheXNJbldlZWsoKTsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0ZXMucHVzaChkYXRlID0gZGF0ZS5uZXdEYXRlKCkuYWRkKDEsICdkJykpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmIChpbnN0Lm9wdGlvbnMucmFuZ2VTZWxlY3QpIHtcclxuXHRcdFx0XHRcdFx0XHRkYXRlcy5zcGxpY2UoMSwgZGF0ZXMubGVuZ3RoIC0gMik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dGFyZ2V0LmNhbGVuZGFyc1BpY2tlcignc2V0RGF0ZScsIGRhdGVzKS5jYWxlbmRhcnNQaWNrZXIoJ2hpZGUnKTtcclxuXHRcdFx0XHRcdH0pLlxyXG5cdFx0XHRcdFx0cmVwbGFjZUFsbCh0aGlzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8qKiBTZWxlY3QgYW4gZW50aXJlIG1vbnRoIHdoZW4gY2xpY2tpbmcgb24gdGhlIHdlZWsgaGVhZGVyLlxyXG5cdFx0XHRVc2UgaW4gY29uanVuY3Rpb24gd2l0aCA8Y29kZT53ZWVrT2ZZZWFyUmVuZGVyZXI8L2NvZGU+LlxyXG5cdFx0XHRGb3VuZCBpbiB0aGUgPGNvZGU+anF1ZXJ5LmNhbGVuZGFycy5waWNrZXIuZXh0LmpzPC9jb2RlPiBtb2R1bGUuXHJcblx0XHRcdEBtZW1iZXJvZiBDYWxlbmRhcnNQaWNrZXJcclxuXHRcdFx0QHBhcmFtIHBpY2tlciB7alF1ZXJ5fSBUaGUgY29tcGxldGVkIGRhdGVwaWNrZXIgZGl2aXNpb24uXHJcblx0XHRcdEBwYXJhbSBjYWxlbmRhciB7QmFzZUNhbGVuZGFyfSBUaGUgY2FsZW5kYXIgaW1wbGVtZW50YXRpb24uXHJcblx0XHRcdEBwYXJhbSBpbnN0IHtvYmplY3R9IFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxyXG5cdFx0XHRAZXhhbXBsZSBvblNob3c6ICQuY2FsZW5kYXJzUGlja2VyLnNlbGVjdE1vbnRoICovXHJcblx0XHRzZWxlY3RNb250aDogZnVuY3Rpb24ocGlja2VyLCBjYWxlbmRhciwgaW5zdCkge1xyXG5cdFx0XHR2YXIgdGFyZ2V0ID0gJCh0aGlzKTtcclxuXHRcdFx0cGlja2VyLmZpbmQoJ3RoLmNhbGVuZGFycy13ZWVrJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKCc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGU9XCJTZWxlY3QgdGhlIGVudGlyZSBtb250aFwiPicgK1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnRleHQoKSArICc8L2E+JykuXHJcblx0XHRcdFx0XHRjbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGRhdGUgPSB0YXJnZXQuY2FsZW5kYXJzUGlja2VyKCdyZXRyaWV2ZURhdGUnLCAkKHRoaXMpLnBhcmVudHMoJ3RhYmxlJykuXHJcblx0XHRcdFx0XHRcdFx0ZmluZCgndGQ6bm90KC5jYWxlbmRhcnMtd2VlaykgKjpub3QoLmNhbGVuZGFycy1vdGhlci1tb250aCknKVswXSk7XHJcblx0XHRcdFx0XHRcdHZhciBkYXRlcyA9IFtkYXRlLmRheSgxKV07XHJcblx0XHRcdFx0XHRcdHZhciBkaW0gPSBjYWxlbmRhci5kYXlzSW5Nb250aChkYXRlKTtcclxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBkaW07IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdGRhdGVzLnB1c2goZGF0ZSA9IGRhdGUubmV3RGF0ZSgpLmFkZCgxLCAnZCcpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoaW5zdC5vcHRpb25zLnJhbmdlU2VsZWN0KSB7XHJcblx0XHRcdFx0XHRcdFx0ZGF0ZXMuc3BsaWNlKDEsIGRhdGVzLmxlbmd0aCAtIDIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHRhcmdldC5jYWxlbmRhcnNQaWNrZXIoJ3NldERhdGUnLCBkYXRlcykuY2FsZW5kYXJzUGlja2VyKCdoaWRlJyk7XHJcblx0XHRcdFx0XHR9KS5cclxuXHRcdFx0XHRcdGFwcGVuZFRvKHRoaXMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0LyoqIFNlbGVjdCBhIG1vbnRoIG9ubHkgaW5zdGVhZCBvZiBhIHNpbmdsZSBkYXkuXHJcblx0XHRcdEZvdW5kIGluIHRoZSA8Y29kZT5qcXVlcnkuY2FsZW5kYXJzLnBpY2tlci5leHQuanM8L2NvZGU+IG1vZHVsZS5cclxuXHRcdFx0QG1lbWJlcm9mIENhbGVuZGFyc1BpY2tlclxyXG5cdFx0XHRAcGFyYW0gcGlja2VyIHtqUXVlcnl9IFRoZSBjb21wbGV0ZWQgZGF0ZXBpY2tlciBkaXZpc2lvbi5cclxuXHRcdFx0QHBhcmFtIGNhbGVuZGFyIHtCYXNlQ2FsZW5kYXJ9IFRoZSBjYWxlbmRhciBpbXBsZW1lbnRhdGlvbi5cclxuXHRcdFx0QHBhcmFtIGluc3Qge29iamVjdH0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugc2V0dGluZ3MuXHJcblx0XHRcdEBleGFtcGxlIG9uU2hvdzogJC5jYWxlbmRhcnNQaWNrZXIubW9udGhPbmx5ICovXHJcblx0XHRtb250aE9ubHk6IGZ1bmN0aW9uKHBpY2tlciwgY2FsZW5kYXIsIGluc3QpIHtcclxuXHRcdFx0dmFyIHRhcmdldCA9ICQodGhpcyk7XHJcblx0XHRcdHZhciBzZWxlY3RNb250aCA9ICQoJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+U2VsZWN0PC9idXR0b24+PC9kaXY+JykuXHJcblx0XHRcdFx0aW5zZXJ0QWZ0ZXIocGlja2VyLmZpbmQoJy5jYWxlbmRhcnMtbW9udGgtcm93Omxhc3QsLnVpLWRhdGVwaWNrZXItcm93LWJyZWFrOmxhc3QnKSkuXHJcblx0XHRcdFx0Y2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBtb250aFllYXIgPSBwaWNrZXIuZmluZCgnLmNhbGVuZGFycy1tb250aC15ZWFyOmZpcnN0JykudmFsKCkuc3BsaXQoJy8nKTtcclxuXHRcdFx0XHRcdHRhcmdldC5jYWxlbmRhcnNQaWNrZXIoJ3NldERhdGUnLCBjYWxlbmRhci5uZXdEYXRlKFxyXG5cdFx0XHRcdFx0XHRwYXJzZUludChtb250aFllYXJbMV0sIDEwKSwgcGFyc2VJbnQobW9udGhZZWFyWzBdLCAxMCksIGNhbGVuZGFyLm1pbkRheSkpLlxyXG5cdFx0XHRcdFx0XHRjYWxlbmRhcnNQaWNrZXIoJ2hpZGUnKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cGlja2VyLmZpbmQoJy5jYWxlbmRhcnMtbW9udGgtcm93IHRhYmxlLC51aS1kYXRlcGlja2VyLXJvdy1icmVhayB0YWJsZScpLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoalF1ZXJ5KTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
