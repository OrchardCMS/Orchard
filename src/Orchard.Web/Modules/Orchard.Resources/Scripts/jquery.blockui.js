/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

;(function() {
/*jshint eqeqeq:false curly:false latedef:false */
"use strict";

	function setup($) {
		$.fn._fadeIn = $.fn.fadeIn;

		var noOp = $.noop || function() {};

		// this bit is to ensure we don't call setExpression when we shouldn't (with extra muscle to handle
		// confusing userAgent strings on Vista)
		var msie = /MSIE/.test(navigator.userAgent);
		var ie6  = /MSIE 6.0/.test(navigator.userAgent) && ! /MSIE 8.0/.test(navigator.userAgent);
		var mode = document.documentMode || 0;
		var setExpr = $.isFunction( document.createElement('div').style.setExpression );

		// global $ methods for blocking/unblocking the entire page
		$.blockUI   = function(opts) { install(window, opts); };
		$.unblockUI = function(opts) { remove(window, opts); };

		// convenience method for quick growl-like notifications  (http://www.google.com/search?q=growl)
		$.growlUI = function(title, message, timeout, onClose) {
			var $m = $('<div class="growlUI"></div>');
			if (title) $m.append('<h1>'+title+'</h1>');
			if (message) $m.append('<h2>'+message+'</h2>');
			if (timeout === undefined) timeout = 3000;

			// Added by konapun: Set timeout to 30 seconds if this growl is moused over, like normal toast notifications
			var callBlock = function(opts) {
				opts = opts || {};

				$.blockUI({
					message: $m,
					fadeIn : typeof opts.fadeIn  !== 'undefined' ? opts.fadeIn  : 700,
					fadeOut: typeof opts.fadeOut !== 'undefined' ? opts.fadeOut : 1000,
					timeout: typeof opts.timeout !== 'undefined' ? opts.timeout : timeout,
					centerY: false,
					showOverlay: false,
					onUnblock: onClose,
					css: $.blockUI.defaults.growlCSS
				});
			};

			callBlock();
			var nonmousedOpacity = $m.css('opacity');
			$m.mouseover(function() {
				callBlock({
					fadeIn: 0,
					timeout: 30000
				});

				var displayBlock = $('.blockMsg');
				displayBlock.stop(); // cancel fadeout if it has started
				displayBlock.fadeTo(300, 1); // make it easier to read the message by removing transparency
			}).mouseout(function() {
				$('.blockMsg').fadeOut(1000);
			});
			// End konapun additions
		};

		// plugin method for blocking element content
		$.fn.block = function(opts) {
			if ( this[0] === window ) {
				$.blockUI( opts );
				return this;
			}
			var fullOpts = $.extend({}, $.blockUI.defaults, opts || {});
			this.each(function() {
				var $el = $(this);
				if (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))
					return;
				$el.unblock({ fadeOut: 0 });
			});

			return this.each(function() {
				if ($.css(this,'position') == 'static') {
					this.style.position = 'relative';
					$(this).data('blockUI.static', true);
				}
				this.style.zoom = 1; // force 'hasLayout' in ie
				install(this, opts);
			});
		};

		// plugin method for unblocking element content
		$.fn.unblock = function(opts) {
			if ( this[0] === window ) {
				$.unblockUI( opts );
				return this;
			}
			return this.each(function() {
				remove(this, opts);
			});
		};

		$.blockUI.version = 2.70; // 2nd generation blocking at no extra cost!

		// override these in your code to change the default behavior and style
		$.blockUI.defaults = {
			// message displayed when blocking (use null for no message)
			message:  '<h1>Please wait...</h1>',

			title: null,		// title string; only used when theme == true
			draggable: true,	// only used when theme == true (requires jquery-ui.js to be loaded)

			theme: false, // set to true to use with jQuery UI themes

			// styles for the message when blocking; if you wish to disable
			// these and use an external stylesheet then do this in your code:
			// $.blockUI.defaults.css = {};
			css: {
				padding:	0,
				margin:		0,
				width:		'30%',
				top:		'40%',
				left:		'35%',
				textAlign:	'center',
				color:		'#000',
				border:		'3px solid #aaa',
				backgroundColor:'#fff',
				cursor:		'wait'
			},

			// minimal style set used when themes are used
			themedCSS: {
				width:	'30%',
				top:	'40%',
				left:	'35%'
			},

			// styles for the overlay
			overlayCSS:  {
				backgroundColor:	'#000',
				opacity:			0.6,
				cursor:				'wait'
			},

			// style to replace wait cursor before unblocking to correct issue
			// of lingering wait cursor
			cursorReset: 'default',

			// styles applied when using $.growlUI
			growlCSS: {
				width:		'350px',
				top:		'10px',
				left:		'',
				right:		'10px',
				border:		'none',
				padding:	'5px',
				opacity:	0.6,
				cursor:		'default',
				color:		'#fff',
				backgroundColor: '#000',
				'-webkit-border-radius':'10px',
				'-moz-border-radius':	'10px',
				'border-radius':		'10px'
			},

			// IE issues: 'about:blank' fails on HTTPS and javascript:false is s-l-o-w
			// (hat tip to Jorge H. N. de Vasconcelos)
			/*jshint scripturl:true */
			iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',

			// force usage of iframe in non-IE browsers (handy for blocking applets)
			forceIframe: false,

			// z-index for the blocking overlay
			baseZ: 1000,

			// set these to true to have the message automatically centered
			centerX: true, // <-- only effects element blocking (page block controlled via css above)
			centerY: true,

			// allow body element to be stetched in ie6; this makes blocking look better
			// on "short" pages.  disable if you wish to prevent changes to the body height
			allowBodyStretch: true,

			// enable if you want key and mouse events to be disabled for content that is blocked
			bindEvents: true,

			// be default blockUI will supress tab navigation from leaving blocking content
			// (if bindEvents is true)
			constrainTabKey: true,

			// fadeIn time in millis; set to 0 to disable fadeIn on block
			fadeIn:  200,

			// fadeOut time in millis; set to 0 to disable fadeOut on unblock
			fadeOut:  400,

			// time in millis to wait before auto-unblocking; set to 0 to disable auto-unblock
			timeout: 0,

			// disable if you don't want to show the overlay
			showOverlay: true,

			// if true, focus will be placed in the first available input field when
			// page blocking
			focusInput: true,

            // elements that can receive focus
            focusableElements: ':input:enabled:visible',

			// suppresses the use of overlay styles on FF/Linux (due to performance issues with opacity)
			// no longer needed in 2012
			// applyPlatformOpacityRules: true,

			// callback method invoked when fadeIn has completed and blocking message is visible
			onBlock: null,

			// callback method invoked when unblocking has completed; the callback is
			// passed the element that has been unblocked (which is the window object for page
			// blocks) and the options that were passed to the unblock call:
			//	onUnblock(element, options)
			onUnblock: null,

			// callback method invoked when the overlay area is clicked.
			// setting this will turn the cursor to a pointer, otherwise cursor defined in overlayCss will be used.
			onOverlayClick: null,

			// don't ask; if you really must know: http://groups.google.com/group/jquery-en/browse_thread/thread/36640a8730503595/2f6a79a77a78e493#2f6a79a77a78e493
			quirksmodeOffsetHack: 4,

			// class name of the message block
			blockMsgClass: 'blockMsg',

			// if it is already blocked, then ignore it (don't unblock and reblock)
			ignoreIfBlocked: false
		};

		// private data and functions follow...

		var pageBlock = null;
		var pageBlockEls = [];

		function install(el, opts) {
			var css, themedCSS;
			var full = (el == window);
			var msg = (opts && opts.message !== undefined ? opts.message : undefined);
			opts = $.extend({}, $.blockUI.defaults, opts || {});

			if (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))
				return;

			opts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});
			css = $.extend({}, $.blockUI.defaults.css, opts.css || {});
			if (opts.onOverlayClick)
				opts.overlayCSS.cursor = 'pointer';

			themedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});
			msg = msg === undefined ? opts.message : msg;

			// remove the current block (if there is one)
			if (full && pageBlock)
				remove(window, {fadeOut:0});

			// if an existing element is being used as the blocking content then we capture
			// its current place in the DOM (and current display style) so we can restore
			// it when we unblock
			if (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {
				var node = msg.jquery ? msg[0] : msg;
				var data = {};
				$(el).data('blockUI.history', data);
				data.el = node;
				data.parent = node.parentNode;
				data.display = node.style.display;
				data.position = node.style.position;
				if (data.parent)
					data.parent.removeChild(node);
			}

			$(el).data('blockUI.onUnblock', opts.onUnblock);
			var z = opts.baseZ;

			// blockUI uses 3 layers for blocking, for simplicity they are all used on every platform;
			// layer1 is the iframe layer which is used to supress bleed through of underlying content
			// layer2 is the overlay layer which has opacity and a wait cursor (by default)
			// layer3 is the message content that is displayed while blocking
			var lyr1, lyr2, lyr3, s;
			if (msie || opts.forceIframe)
				lyr1 = $('<iframe class="blockUI" style="z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"></iframe>');
			else
				lyr1 = $('<div class="blockUI" style="display:none"></div>');

			if (opts.theme)
				lyr2 = $('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+ (z++) +';display:none"></div>');
			else
				lyr2 = $('<div class="blockUI blockOverlay" style="z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');

			if (opts.theme && full) {
				s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">';
				if ( opts.title ) {
					s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title || '&nbsp;')+'</div>';
				}
				s += '<div class="ui-widget-content ui-dialog-content"></div>';
				s += '</div>';
			}
			else if (opts.theme) {
				s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">';
				if ( opts.title ) {
					s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title || '&nbsp;')+'</div>';
				}
				s += '<div class="ui-widget-content ui-dialog-content"></div>';
				s += '</div>';
			}
			else if (full) {
				s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"></div>';
			}
			else {
				s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>';
			}
			lyr3 = $(s);

			// if we have a message, style it
			if (msg) {
				if (opts.theme) {
					lyr3.css(themedCSS);
					lyr3.addClass('ui-widget-content');
				}
				else
					lyr3.css(css);
			}

			// style the overlay
			if (!opts.theme /*&& (!opts.applyPlatformOpacityRules)*/)
				lyr2.css(opts.overlayCSS);
			lyr2.css('position', full ? 'fixed' : 'absolute');

			// make iframe layer transparent in IE
			if (msie || opts.forceIframe)
				lyr1.css('opacity',0.0);

			//$([lyr1[0],lyr2[0],lyr3[0]]).appendTo(full ? 'body' : el);
			var layers = [lyr1,lyr2,lyr3], $par = full ? $('body') : $(el);
			$.each(layers, function() {
				this.appendTo($par);
			});

			if (opts.theme && opts.draggable && $.fn.draggable) {
				lyr3.draggable({
					handle: '.ui-dialog-titlebar',
					cancel: 'li'
				});
			}

			// ie7 must use absolute positioning in quirks mode and to account for activex issues (when scrolling)
			var expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);
			if (ie6 || expr) {
				// give body 100% height
				if (full && opts.allowBodyStretch && $.support.boxModel)
					$('html,body').css('height','100%');

				// fix ie6 issue when blocked element has a border width
				if ((ie6 || !$.support.boxModel) && !full) {
					var t = sz(el,'borderTopWidth'), l = sz(el,'borderLeftWidth');
					var fixT = t ? '(0 - '+t+')' : 0;
					var fixL = l ? '(0 - '+l+')' : 0;
				}

				// simulate fixed position
				$.each(layers, function(i,o) {
					var s = o[0].style;
					s.position = 'absolute';
					if (i < 2) {
						if (full)
							s.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + "px"');
						else
							s.setExpression('height','this.parentNode.offsetHeight + "px"');
						if (full)
							s.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');
						else
							s.setExpression('width','this.parentNode.offsetWidth + "px"');
						if (fixL) s.setExpression('left', fixL);
						if (fixT) s.setExpression('top', fixT);
					}
					else if (opts.centerY) {
						if (full) s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');
						s.marginTop = 0;
					}
					else if (!opts.centerY && full) {
						var top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;
						var expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + "px"';
						s.setExpression('top',expression);
					}
				});
			}

			// show the message
			if (msg) {
				if (opts.theme)
					lyr3.find('.ui-widget-content').append(msg);
				else
					lyr3.append(msg);
				if (msg.jquery || msg.nodeType)
					$(msg).show();
			}

			if ((msie || opts.forceIframe) && opts.showOverlay)
				lyr1.show(); // opacity is zero
			if (opts.fadeIn) {
				var cb = opts.onBlock ? opts.onBlock : noOp;
				var cb1 = (opts.showOverlay && !msg) ? cb : noOp;
				var cb2 = msg ? cb : noOp;
				if (opts.showOverlay)
					lyr2._fadeIn(opts.fadeIn, cb1);
				if (msg)
					lyr3._fadeIn(opts.fadeIn, cb2);
			}
			else {
				if (opts.showOverlay)
					lyr2.show();
				if (msg)
					lyr3.show();
				if (opts.onBlock)
					opts.onBlock.bind(lyr3)();
			}

			// bind key and mouse events
			bind(1, el, opts);

			if (full) {
				pageBlock = lyr3[0];
				pageBlockEls = $(opts.focusableElements,pageBlock);
				if (opts.focusInput)
					setTimeout(focus, 20);
			}
			else
				center(lyr3[0], opts.centerX, opts.centerY);

			if (opts.timeout) {
				// auto-unblock
				var to = setTimeout(function() {
					if (full)
						$.unblockUI(opts);
					else
						$(el).unblock(opts);
				}, opts.timeout);
				$(el).data('blockUI.timeout', to);
			}
		}

		// remove the block
		function remove(el, opts) {
			var count;
			var full = (el == window);
			var $el = $(el);
			var data = $el.data('blockUI.history');
			var to = $el.data('blockUI.timeout');
			if (to) {
				clearTimeout(to);
				$el.removeData('blockUI.timeout');
			}
			opts = $.extend({}, $.blockUI.defaults, opts || {});
			bind(0, el, opts); // unbind events

			if (opts.onUnblock === null) {
				opts.onUnblock = $el.data('blockUI.onUnblock');
				$el.removeData('blockUI.onUnblock');
			}

			var els;
			if (full) // crazy selector to handle odd field errors in ie6/7
				els = $('body').children().filter('.blockUI').add('body > .blockUI');
			else
				els = $el.find('>.blockUI');

			// fix cursor issue
			if ( opts.cursorReset ) {
				if ( els.length > 1 )
					els[1].style.cursor = opts.cursorReset;
				if ( els.length > 2 )
					els[2].style.cursor = opts.cursorReset;
			}

			if (full)
				pageBlock = pageBlockEls = null;

			if (opts.fadeOut) {
				count = els.length;
				els.stop().fadeOut(opts.fadeOut, function() {
					if ( --count === 0)
						reset(els,data,opts,el);
				});
			}
			else
				reset(els, data, opts, el);
		}

		// move blocking element back into the DOM where it started
		function reset(els,data,opts,el) {
			var $el = $(el);
			if ( $el.data('blockUI.isBlocked') )
				return;

			els.each(function(i,o) {
				// remove via DOM calls so we don't lose event handlers
				if (this.parentNode)
					this.parentNode.removeChild(this);
			});

			if (data && data.el) {
				data.el.style.display = data.display;
				data.el.style.position = data.position;
				data.el.style.cursor = 'default'; // #59
				if (data.parent)
					data.parent.appendChild(data.el);
				$el.removeData('blockUI.history');
			}

			if ($el.data('blockUI.static')) {
				$el.css('position', 'static'); // #22
			}

			if (typeof opts.onUnblock == 'function')
				opts.onUnblock(el,opts);

			// fix issue in Safari 6 where block artifacts remain until reflow
			var body = $(document.body), w = body.width(), cssW = body[0].style.width;
			body.width(w-1).width(w);
			body[0].style.width = cssW;
		}

		// bind/unbind the handler
		function bind(b, el, opts) {
			var full = el == window, $el = $(el);

			// don't bother unbinding if there is nothing to unbind
			if (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))
				return;

			$el.data('blockUI.isBlocked', b);

			// don't bind events when overlay is not in use or if bindEvents is false
			if (!full || !opts.bindEvents || (b && !opts.showOverlay))
				return;

			// bind anchors and inputs for mouse and key events
			var events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';
			if (b)
				$(document).bind(events, opts, handler);
			else
				$(document).unbind(events, handler);

		// former impl...
		//		var $e = $('a,:input');
		//		b ? $e.bind(events, opts, handler) : $e.unbind(events, handler);
		}

		// event handler to suppress keyboard/mouse events when blocking
		function handler(e) {
			// allow tab navigation (conditionally)
			if (e.type === 'keydown' && e.keyCode && e.keyCode == 9) {
				if (pageBlock && e.data.constrainTabKey) {
					var els = pageBlockEls;
					var fwd = !e.shiftKey && e.target === els[els.length-1];
					var back = e.shiftKey && e.target === els[0];
					if (fwd || back) {
						setTimeout(function(){focus(back);},10);
						return false;
					}
				}
			}
			var opts = e.data;
			var target = $(e.target);
			if (target.hasClass('blockOverlay') && opts.onOverlayClick)
				opts.onOverlayClick(e);

			// allow events within the message content
			if (target.parents('div.' + opts.blockMsgClass).length > 0)
				return true;

			// allow events for content that is not being blocked
			return target.parents().children().filter('div.blockUI').length === 0;
		}

		function focus(back) {
			if (!pageBlockEls)
				return;
			var e = pageBlockEls[back===true ? pageBlockEls.length-1 : 0];
			if (e)
				e.focus();
		}

		function center(el, x, y) {
			var p = el.parentNode, s = el.style;
			var l = ((p.offsetWidth - el.offsetWidth)/2) - sz(p,'borderLeftWidth');
			var t = ((p.offsetHeight - el.offsetHeight)/2) - sz(p,'borderTopWidth');
			if (x) s.left = l > 0 ? (l+'px') : '0';
			if (y) s.top  = t > 0 ? (t+'px') : '0';
		}

		function sz(el, p) {
			return parseInt($.css(el,p),10)||0;
		}

	}


	/*global define:true */
	if (typeof define === 'function' && define.amd && define.amd.jQuery) {
		define(['jquery'], setup);
	} else {
		setup(jQuery);
	}

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5ibG9ja3VpLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxBQUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJqcXVlcnkuYmxvY2t1aS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogalF1ZXJ5IGJsb2NrVUkgcGx1Z2luXG4gKiBWZXJzaW9uIDIuNzAuMC0yMDE0LjExLjIzXG4gKiBSZXF1aXJlcyBqUXVlcnkgdjEuNyBvciBsYXRlclxuICpcbiAqIEV4YW1wbGVzIGF0OiBodHRwOi8vbWFsc3VwLmNvbS9qcXVlcnkvYmxvY2svXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDctMjAxMyBNLiBBbHN1cFxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXM6XG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICogaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXG4gKlxuICogVGhhbmtzIHRvIEFtaXItSG9zc2VpbiBTb2JoaSBmb3Igc29tZSBleGNlbGxlbnQgY29udHJpYnV0aW9ucyFcbiAqL1xuXG47KGZ1bmN0aW9uKCkge1xuLypqc2hpbnQgZXFlcWVxOmZhbHNlIGN1cmx5OmZhbHNlIGxhdGVkZWY6ZmFsc2UgKi9cblwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIHNldHVwKCQpIHtcblx0XHQkLmZuLl9mYWRlSW4gPSAkLmZuLmZhZGVJbjtcblxuXHRcdHZhciBub09wID0gJC5ub29wIHx8IGZ1bmN0aW9uKCkge307XG5cblx0XHQvLyB0aGlzIGJpdCBpcyB0byBlbnN1cmUgd2UgZG9uJ3QgY2FsbCBzZXRFeHByZXNzaW9uIHdoZW4gd2Ugc2hvdWxkbid0ICh3aXRoIGV4dHJhIG11c2NsZSB0byBoYW5kbGVcblx0XHQvLyBjb25mdXNpbmcgdXNlckFnZW50IHN0cmluZ3Mgb24gVmlzdGEpXG5cdFx0dmFyIG1zaWUgPSAvTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblx0XHR2YXIgaWU2ICA9IC9NU0lFIDYuMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhIC9NU0lFIDguMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblx0XHR2YXIgbW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCAwO1xuXHRcdHZhciBzZXRFeHByID0gJC5pc0Z1bmN0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZS5zZXRFeHByZXNzaW9uICk7XG5cblx0XHQvLyBnbG9iYWwgJCBtZXRob2RzIGZvciBibG9ja2luZy91bmJsb2NraW5nIHRoZSBlbnRpcmUgcGFnZVxuXHRcdCQuYmxvY2tVSSAgID0gZnVuY3Rpb24ob3B0cykgeyBpbnN0YWxsKHdpbmRvdywgb3B0cyk7IH07XG5cdFx0JC51bmJsb2NrVUkgPSBmdW5jdGlvbihvcHRzKSB7IHJlbW92ZSh3aW5kb3csIG9wdHMpOyB9O1xuXG5cdFx0Ly8gY29udmVuaWVuY2UgbWV0aG9kIGZvciBxdWljayBncm93bC1saWtlIG5vdGlmaWNhdGlvbnMgIChodHRwOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9Z3Jvd2wpXG5cdFx0JC5ncm93bFVJID0gZnVuY3Rpb24odGl0bGUsIG1lc3NhZ2UsIHRpbWVvdXQsIG9uQ2xvc2UpIHtcblx0XHRcdHZhciAkbSA9ICQoJzxkaXYgY2xhc3M9XCJncm93bFVJXCI+PC9kaXY+Jyk7XG5cdFx0XHRpZiAodGl0bGUpICRtLmFwcGVuZCgnPGgxPicrdGl0bGUrJzwvaDE+Jyk7XG5cdFx0XHRpZiAobWVzc2FnZSkgJG0uYXBwZW5kKCc8aDI+JyttZXNzYWdlKyc8L2gyPicpO1xuXHRcdFx0aWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkgdGltZW91dCA9IDMwMDA7XG5cblx0XHRcdC8vIEFkZGVkIGJ5IGtvbmFwdW46IFNldCB0aW1lb3V0IHRvIDMwIHNlY29uZHMgaWYgdGhpcyBncm93bCBpcyBtb3VzZWQgb3ZlciwgbGlrZSBub3JtYWwgdG9hc3Qgbm90aWZpY2F0aW9uc1xuXHRcdFx0dmFyIGNhbGxCbG9jayA9IGZ1bmN0aW9uKG9wdHMpIHtcblx0XHRcdFx0b3B0cyA9IG9wdHMgfHwge307XG5cblx0XHRcdFx0JC5ibG9ja1VJKHtcblx0XHRcdFx0XHRtZXNzYWdlOiAkbSxcblx0XHRcdFx0XHRmYWRlSW4gOiB0eXBlb2Ygb3B0cy5mYWRlSW4gICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuZmFkZUluICA6IDcwMCxcblx0XHRcdFx0XHRmYWRlT3V0OiB0eXBlb2Ygb3B0cy5mYWRlT3V0ICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuZmFkZU91dCA6IDEwMDAsXG5cdFx0XHRcdFx0dGltZW91dDogdHlwZW9mIG9wdHMudGltZW91dCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnRpbWVvdXQgOiB0aW1lb3V0LFxuXHRcdFx0XHRcdGNlbnRlclk6IGZhbHNlLFxuXHRcdFx0XHRcdHNob3dPdmVybGF5OiBmYWxzZSxcblx0XHRcdFx0XHRvblVuYmxvY2s6IG9uQ2xvc2UsXG5cdFx0XHRcdFx0Y3NzOiAkLmJsb2NrVUkuZGVmYXVsdHMuZ3Jvd2xDU1Ncblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHRjYWxsQmxvY2soKTtcblx0XHRcdHZhciBub25tb3VzZWRPcGFjaXR5ID0gJG0uY3NzKCdvcGFjaXR5Jyk7XG5cdFx0XHQkbS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxCbG9jayh7XG5cdFx0XHRcdFx0ZmFkZUluOiAwLFxuXHRcdFx0XHRcdHRpbWVvdXQ6IDMwMDAwXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHZhciBkaXNwbGF5QmxvY2sgPSAkKCcuYmxvY2tNc2cnKTtcblx0XHRcdFx0ZGlzcGxheUJsb2NrLnN0b3AoKTsgLy8gY2FuY2VsIGZhZGVvdXQgaWYgaXQgaGFzIHN0YXJ0ZWRcblx0XHRcdFx0ZGlzcGxheUJsb2NrLmZhZGVUbygzMDAsIDEpOyAvLyBtYWtlIGl0IGVhc2llciB0byByZWFkIHRoZSBtZXNzYWdlIGJ5IHJlbW92aW5nIHRyYW5zcGFyZW5jeVxuXHRcdFx0fSkubW91c2VvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCQoJy5ibG9ja01zZycpLmZhZGVPdXQoMTAwMCk7XG5cdFx0XHR9KTtcblx0XHRcdC8vIEVuZCBrb25hcHVuIGFkZGl0aW9uc1xuXHRcdH07XG5cblx0XHQvLyBwbHVnaW4gbWV0aG9kIGZvciBibG9ja2luZyBlbGVtZW50IGNvbnRlbnRcblx0XHQkLmZuLmJsb2NrID0gZnVuY3Rpb24ob3B0cykge1xuXHRcdFx0aWYgKCB0aGlzWzBdID09PSB3aW5kb3cgKSB7XG5cdFx0XHRcdCQuYmxvY2tVSSggb3B0cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHRcdHZhciBmdWxsT3B0cyA9ICQuZXh0ZW5kKHt9LCAkLmJsb2NrVUkuZGVmYXVsdHMsIG9wdHMgfHwge30pO1xuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgJGVsID0gJCh0aGlzKTtcblx0XHRcdFx0aWYgKGZ1bGxPcHRzLmlnbm9yZUlmQmxvY2tlZCAmJiAkZWwuZGF0YSgnYmxvY2tVSS5pc0Jsb2NrZWQnKSlcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdCRlbC51bmJsb2NrKHsgZmFkZU91dDogMCB9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoJC5jc3ModGhpcywncG9zaXRpb24nKSA9PSAnc3RhdGljJykge1xuXHRcdFx0XHRcdHRoaXMuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXHRcdFx0XHRcdCQodGhpcykuZGF0YSgnYmxvY2tVSS5zdGF0aWMnLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnN0eWxlLnpvb20gPSAxOyAvLyBmb3JjZSAnaGFzTGF5b3V0JyBpbiBpZVxuXHRcdFx0XHRpbnN0YWxsKHRoaXMsIG9wdHMpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIHBsdWdpbiBtZXRob2QgZm9yIHVuYmxvY2tpbmcgZWxlbWVudCBjb250ZW50XG5cdFx0JC5mbi51bmJsb2NrID0gZnVuY3Rpb24ob3B0cykge1xuXHRcdFx0aWYgKCB0aGlzWzBdID09PSB3aW5kb3cgKSB7XG5cdFx0XHRcdCQudW5ibG9ja1VJKCBvcHRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0cmVtb3ZlKHRoaXMsIG9wdHMpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdCQuYmxvY2tVSS52ZXJzaW9uID0gMi43MDsgLy8gMm5kIGdlbmVyYXRpb24gYmxvY2tpbmcgYXQgbm8gZXh0cmEgY29zdCFcblxuXHRcdC8vIG92ZXJyaWRlIHRoZXNlIGluIHlvdXIgY29kZSB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3IgYW5kIHN0eWxlXG5cdFx0JC5ibG9ja1VJLmRlZmF1bHRzID0ge1xuXHRcdFx0Ly8gbWVzc2FnZSBkaXNwbGF5ZWQgd2hlbiBibG9ja2luZyAodXNlIG51bGwgZm9yIG5vIG1lc3NhZ2UpXG5cdFx0XHRtZXNzYWdlOiAgJzxoMT5QbGVhc2Ugd2FpdC4uLjwvaDE+JyxcblxuXHRcdFx0dGl0bGU6IG51bGwsXHRcdC8vIHRpdGxlIHN0cmluZzsgb25seSB1c2VkIHdoZW4gdGhlbWUgPT0gdHJ1ZVxuXHRcdFx0ZHJhZ2dhYmxlOiB0cnVlLFx0Ly8gb25seSB1c2VkIHdoZW4gdGhlbWUgPT0gdHJ1ZSAocmVxdWlyZXMganF1ZXJ5LXVpLmpzIHRvIGJlIGxvYWRlZClcblxuXHRcdFx0dGhlbWU6IGZhbHNlLCAvLyBzZXQgdG8gdHJ1ZSB0byB1c2Ugd2l0aCBqUXVlcnkgVUkgdGhlbWVzXG5cblx0XHRcdC8vIHN0eWxlcyBmb3IgdGhlIG1lc3NhZ2Ugd2hlbiBibG9ja2luZzsgaWYgeW91IHdpc2ggdG8gZGlzYWJsZVxuXHRcdFx0Ly8gdGhlc2UgYW5kIHVzZSBhbiBleHRlcm5hbCBzdHlsZXNoZWV0IHRoZW4gZG8gdGhpcyBpbiB5b3VyIGNvZGU6XG5cdFx0XHQvLyAkLmJsb2NrVUkuZGVmYXVsdHMuY3NzID0ge307XG5cdFx0XHRjc3M6IHtcblx0XHRcdFx0cGFkZGluZzpcdDAsXG5cdFx0XHRcdG1hcmdpbjpcdFx0MCxcblx0XHRcdFx0d2lkdGg6XHRcdCczMCUnLFxuXHRcdFx0XHR0b3A6XHRcdCc0MCUnLFxuXHRcdFx0XHRsZWZ0Olx0XHQnMzUlJyxcblx0XHRcdFx0dGV4dEFsaWduOlx0J2NlbnRlcicsXG5cdFx0XHRcdGNvbG9yOlx0XHQnIzAwMCcsXG5cdFx0XHRcdGJvcmRlcjpcdFx0JzNweCBzb2xpZCAjYWFhJyxcblx0XHRcdFx0YmFja2dyb3VuZENvbG9yOicjZmZmJyxcblx0XHRcdFx0Y3Vyc29yOlx0XHQnd2FpdCdcblx0XHRcdH0sXG5cblx0XHRcdC8vIG1pbmltYWwgc3R5bGUgc2V0IHVzZWQgd2hlbiB0aGVtZXMgYXJlIHVzZWRcblx0XHRcdHRoZW1lZENTUzoge1xuXHRcdFx0XHR3aWR0aDpcdCczMCUnLFxuXHRcdFx0XHR0b3A6XHQnNDAlJyxcblx0XHRcdFx0bGVmdDpcdCczNSUnXG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBzdHlsZXMgZm9yIHRoZSBvdmVybGF5XG5cdFx0XHRvdmVybGF5Q1NTOiAge1xuXHRcdFx0XHRiYWNrZ3JvdW5kQ29sb3I6XHQnIzAwMCcsXG5cdFx0XHRcdG9wYWNpdHk6XHRcdFx0MC42LFxuXHRcdFx0XHRjdXJzb3I6XHRcdFx0XHQnd2FpdCdcblx0XHRcdH0sXG5cblx0XHRcdC8vIHN0eWxlIHRvIHJlcGxhY2Ugd2FpdCBjdXJzb3IgYmVmb3JlIHVuYmxvY2tpbmcgdG8gY29ycmVjdCBpc3N1ZVxuXHRcdFx0Ly8gb2YgbGluZ2VyaW5nIHdhaXQgY3Vyc29yXG5cdFx0XHRjdXJzb3JSZXNldDogJ2RlZmF1bHQnLFxuXG5cdFx0XHQvLyBzdHlsZXMgYXBwbGllZCB3aGVuIHVzaW5nICQuZ3Jvd2xVSVxuXHRcdFx0Z3Jvd2xDU1M6IHtcblx0XHRcdFx0d2lkdGg6XHRcdCczNTBweCcsXG5cdFx0XHRcdHRvcDpcdFx0JzEwcHgnLFxuXHRcdFx0XHRsZWZ0Olx0XHQnJyxcblx0XHRcdFx0cmlnaHQ6XHRcdCcxMHB4Jyxcblx0XHRcdFx0Ym9yZGVyOlx0XHQnbm9uZScsXG5cdFx0XHRcdHBhZGRpbmc6XHQnNXB4Jyxcblx0XHRcdFx0b3BhY2l0eTpcdDAuNixcblx0XHRcdFx0Y3Vyc29yOlx0XHQnZGVmYXVsdCcsXG5cdFx0XHRcdGNvbG9yOlx0XHQnI2ZmZicsXG5cdFx0XHRcdGJhY2tncm91bmRDb2xvcjogJyMwMDAnLFxuXHRcdFx0XHQnLXdlYmtpdC1ib3JkZXItcmFkaXVzJzonMTBweCcsXG5cdFx0XHRcdCctbW96LWJvcmRlci1yYWRpdXMnOlx0JzEwcHgnLFxuXHRcdFx0XHQnYm9yZGVyLXJhZGl1cyc6XHRcdCcxMHB4J1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gSUUgaXNzdWVzOiAnYWJvdXQ6YmxhbmsnIGZhaWxzIG9uIEhUVFBTIGFuZCBqYXZhc2NyaXB0OmZhbHNlIGlzIHMtbC1vLXdcblx0XHRcdC8vIChoYXQgdGlwIHRvIEpvcmdlIEguIE4uIGRlIFZhc2NvbmNlbG9zKVxuXHRcdFx0Lypqc2hpbnQgc2NyaXB0dXJsOnRydWUgKi9cblx0XHRcdGlmcmFtZVNyYzogL15odHRwcy9pLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYgfHwgJycpID8gJ2phdmFzY3JpcHQ6ZmFsc2UnIDogJ2Fib3V0OmJsYW5rJyxcblxuXHRcdFx0Ly8gZm9yY2UgdXNhZ2Ugb2YgaWZyYW1lIGluIG5vbi1JRSBicm93c2VycyAoaGFuZHkgZm9yIGJsb2NraW5nIGFwcGxldHMpXG5cdFx0XHRmb3JjZUlmcmFtZTogZmFsc2UsXG5cblx0XHRcdC8vIHotaW5kZXggZm9yIHRoZSBibG9ja2luZyBvdmVybGF5XG5cdFx0XHRiYXNlWjogMTAwMCxcblxuXHRcdFx0Ly8gc2V0IHRoZXNlIHRvIHRydWUgdG8gaGF2ZSB0aGUgbWVzc2FnZSBhdXRvbWF0aWNhbGx5IGNlbnRlcmVkXG5cdFx0XHRjZW50ZXJYOiB0cnVlLCAvLyA8LS0gb25seSBlZmZlY3RzIGVsZW1lbnQgYmxvY2tpbmcgKHBhZ2UgYmxvY2sgY29udHJvbGxlZCB2aWEgY3NzIGFib3ZlKVxuXHRcdFx0Y2VudGVyWTogdHJ1ZSxcblxuXHRcdFx0Ly8gYWxsb3cgYm9keSBlbGVtZW50IHRvIGJlIHN0ZXRjaGVkIGluIGllNjsgdGhpcyBtYWtlcyBibG9ja2luZyBsb29rIGJldHRlclxuXHRcdFx0Ly8gb24gXCJzaG9ydFwiIHBhZ2VzLiAgZGlzYWJsZSBpZiB5b3Ugd2lzaCB0byBwcmV2ZW50IGNoYW5nZXMgdG8gdGhlIGJvZHkgaGVpZ2h0XG5cdFx0XHRhbGxvd0JvZHlTdHJldGNoOiB0cnVlLFxuXG5cdFx0XHQvLyBlbmFibGUgaWYgeW91IHdhbnQga2V5IGFuZCBtb3VzZSBldmVudHMgdG8gYmUgZGlzYWJsZWQgZm9yIGNvbnRlbnQgdGhhdCBpcyBibG9ja2VkXG5cdFx0XHRiaW5kRXZlbnRzOiB0cnVlLFxuXG5cdFx0XHQvLyBiZSBkZWZhdWx0IGJsb2NrVUkgd2lsbCBzdXByZXNzIHRhYiBuYXZpZ2F0aW9uIGZyb20gbGVhdmluZyBibG9ja2luZyBjb250ZW50XG5cdFx0XHQvLyAoaWYgYmluZEV2ZW50cyBpcyB0cnVlKVxuXHRcdFx0Y29uc3RyYWluVGFiS2V5OiB0cnVlLFxuXG5cdFx0XHQvLyBmYWRlSW4gdGltZSBpbiBtaWxsaXM7IHNldCB0byAwIHRvIGRpc2FibGUgZmFkZUluIG9uIGJsb2NrXG5cdFx0XHRmYWRlSW46ICAyMDAsXG5cblx0XHRcdC8vIGZhZGVPdXQgdGltZSBpbiBtaWxsaXM7IHNldCB0byAwIHRvIGRpc2FibGUgZmFkZU91dCBvbiB1bmJsb2NrXG5cdFx0XHRmYWRlT3V0OiAgNDAwLFxuXG5cdFx0XHQvLyB0aW1lIGluIG1pbGxpcyB0byB3YWl0IGJlZm9yZSBhdXRvLXVuYmxvY2tpbmc7IHNldCB0byAwIHRvIGRpc2FibGUgYXV0by11bmJsb2NrXG5cdFx0XHR0aW1lb3V0OiAwLFxuXG5cdFx0XHQvLyBkaXNhYmxlIGlmIHlvdSBkb24ndCB3YW50IHRvIHNob3cgdGhlIG92ZXJsYXlcblx0XHRcdHNob3dPdmVybGF5OiB0cnVlLFxuXG5cdFx0XHQvLyBpZiB0cnVlLCBmb2N1cyB3aWxsIGJlIHBsYWNlZCBpbiB0aGUgZmlyc3QgYXZhaWxhYmxlIGlucHV0IGZpZWxkIHdoZW5cblx0XHRcdC8vIHBhZ2UgYmxvY2tpbmdcblx0XHRcdGZvY3VzSW5wdXQ6IHRydWUsXG5cbiAgICAgICAgICAgIC8vIGVsZW1lbnRzIHRoYXQgY2FuIHJlY2VpdmUgZm9jdXNcbiAgICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRzOiAnOmlucHV0OmVuYWJsZWQ6dmlzaWJsZScsXG5cblx0XHRcdC8vIHN1cHByZXNzZXMgdGhlIHVzZSBvZiBvdmVybGF5IHN0eWxlcyBvbiBGRi9MaW51eCAoZHVlIHRvIHBlcmZvcm1hbmNlIGlzc3VlcyB3aXRoIG9wYWNpdHkpXG5cdFx0XHQvLyBubyBsb25nZXIgbmVlZGVkIGluIDIwMTJcblx0XHRcdC8vIGFwcGx5UGxhdGZvcm1PcGFjaXR5UnVsZXM6IHRydWUsXG5cblx0XHRcdC8vIGNhbGxiYWNrIG1ldGhvZCBpbnZva2VkIHdoZW4gZmFkZUluIGhhcyBjb21wbGV0ZWQgYW5kIGJsb2NraW5nIG1lc3NhZ2UgaXMgdmlzaWJsZVxuXHRcdFx0b25CbG9jazogbnVsbCxcblxuXHRcdFx0Ly8gY2FsbGJhY2sgbWV0aG9kIGludm9rZWQgd2hlbiB1bmJsb2NraW5nIGhhcyBjb21wbGV0ZWQ7IHRoZSBjYWxsYmFjayBpc1xuXHRcdFx0Ly8gcGFzc2VkIHRoZSBlbGVtZW50IHRoYXQgaGFzIGJlZW4gdW5ibG9ja2VkICh3aGljaCBpcyB0aGUgd2luZG93IG9iamVjdCBmb3IgcGFnZVxuXHRcdFx0Ly8gYmxvY2tzKSBhbmQgdGhlIG9wdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCB0byB0aGUgdW5ibG9jayBjYWxsOlxuXHRcdFx0Ly9cdG9uVW5ibG9jayhlbGVtZW50LCBvcHRpb25zKVxuXHRcdFx0b25VbmJsb2NrOiBudWxsLFxuXG5cdFx0XHQvLyBjYWxsYmFjayBtZXRob2QgaW52b2tlZCB3aGVuIHRoZSBvdmVybGF5IGFyZWEgaXMgY2xpY2tlZC5cblx0XHRcdC8vIHNldHRpbmcgdGhpcyB3aWxsIHR1cm4gdGhlIGN1cnNvciB0byBhIHBvaW50ZXIsIG90aGVyd2lzZSBjdXJzb3IgZGVmaW5lZCBpbiBvdmVybGF5Q3NzIHdpbGwgYmUgdXNlZC5cblx0XHRcdG9uT3ZlcmxheUNsaWNrOiBudWxsLFxuXG5cdFx0XHQvLyBkb24ndCBhc2s7IGlmIHlvdSByZWFsbHkgbXVzdCBrbm93OiBodHRwOi8vZ3JvdXBzLmdvb2dsZS5jb20vZ3JvdXAvanF1ZXJ5LWVuL2Jyb3dzZV90aHJlYWQvdGhyZWFkLzM2NjQwYTg3MzA1MDM1OTUvMmY2YTc5YTc3YTc4ZTQ5MyMyZjZhNzlhNzdhNzhlNDkzXG5cdFx0XHRxdWlya3Ntb2RlT2Zmc2V0SGFjazogNCxcblxuXHRcdFx0Ly8gY2xhc3MgbmFtZSBvZiB0aGUgbWVzc2FnZSBibG9ja1xuXHRcdFx0YmxvY2tNc2dDbGFzczogJ2Jsb2NrTXNnJyxcblxuXHRcdFx0Ly8gaWYgaXQgaXMgYWxyZWFkeSBibG9ja2VkLCB0aGVuIGlnbm9yZSBpdCAoZG9uJ3QgdW5ibG9jayBhbmQgcmVibG9jaylcblx0XHRcdGlnbm9yZUlmQmxvY2tlZDogZmFsc2Vcblx0XHR9O1xuXG5cdFx0Ly8gcHJpdmF0ZSBkYXRhIGFuZCBmdW5jdGlvbnMgZm9sbG93Li4uXG5cblx0XHR2YXIgcGFnZUJsb2NrID0gbnVsbDtcblx0XHR2YXIgcGFnZUJsb2NrRWxzID0gW107XG5cblx0XHRmdW5jdGlvbiBpbnN0YWxsKGVsLCBvcHRzKSB7XG5cdFx0XHR2YXIgY3NzLCB0aGVtZWRDU1M7XG5cdFx0XHR2YXIgZnVsbCA9IChlbCA9PSB3aW5kb3cpO1xuXHRcdFx0dmFyIG1zZyA9IChvcHRzICYmIG9wdHMubWVzc2FnZSAhPT0gdW5kZWZpbmVkID8gb3B0cy5tZXNzYWdlIDogdW5kZWZpbmVkKTtcblx0XHRcdG9wdHMgPSAkLmV4dGVuZCh7fSwgJC5ibG9ja1VJLmRlZmF1bHRzLCBvcHRzIHx8IHt9KTtcblxuXHRcdFx0aWYgKG9wdHMuaWdub3JlSWZCbG9ja2VkICYmICQoZWwpLmRhdGEoJ2Jsb2NrVUkuaXNCbG9ja2VkJykpXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0b3B0cy5vdmVybGF5Q1NTID0gJC5leHRlbmQoe30sICQuYmxvY2tVSS5kZWZhdWx0cy5vdmVybGF5Q1NTLCBvcHRzLm92ZXJsYXlDU1MgfHwge30pO1xuXHRcdFx0Y3NzID0gJC5leHRlbmQoe30sICQuYmxvY2tVSS5kZWZhdWx0cy5jc3MsIG9wdHMuY3NzIHx8IHt9KTtcblx0XHRcdGlmIChvcHRzLm9uT3ZlcmxheUNsaWNrKVxuXHRcdFx0XHRvcHRzLm92ZXJsYXlDU1MuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG5cdFx0XHR0aGVtZWRDU1MgPSAkLmV4dGVuZCh7fSwgJC5ibG9ja1VJLmRlZmF1bHRzLnRoZW1lZENTUywgb3B0cy50aGVtZWRDU1MgfHwge30pO1xuXHRcdFx0bXNnID0gbXNnID09PSB1bmRlZmluZWQgPyBvcHRzLm1lc3NhZ2UgOiBtc2c7XG5cblx0XHRcdC8vIHJlbW92ZSB0aGUgY3VycmVudCBibG9jayAoaWYgdGhlcmUgaXMgb25lKVxuXHRcdFx0aWYgKGZ1bGwgJiYgcGFnZUJsb2NrKVxuXHRcdFx0XHRyZW1vdmUod2luZG93LCB7ZmFkZU91dDowfSk7XG5cblx0XHRcdC8vIGlmIGFuIGV4aXN0aW5nIGVsZW1lbnQgaXMgYmVpbmcgdXNlZCBhcyB0aGUgYmxvY2tpbmcgY29udGVudCB0aGVuIHdlIGNhcHR1cmVcblx0XHRcdC8vIGl0cyBjdXJyZW50IHBsYWNlIGluIHRoZSBET00gKGFuZCBjdXJyZW50IGRpc3BsYXkgc3R5bGUpIHNvIHdlIGNhbiByZXN0b3JlXG5cdFx0XHQvLyBpdCB3aGVuIHdlIHVuYmxvY2tcblx0XHRcdGlmIChtc2cgJiYgdHlwZW9mIG1zZyAhPSAnc3RyaW5nJyAmJiAobXNnLnBhcmVudE5vZGUgfHwgbXNnLmpxdWVyeSkpIHtcblx0XHRcdFx0dmFyIG5vZGUgPSBtc2cuanF1ZXJ5ID8gbXNnWzBdIDogbXNnO1xuXHRcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXHRcdFx0XHQkKGVsKS5kYXRhKCdibG9ja1VJLmhpc3RvcnknLCBkYXRhKTtcblx0XHRcdFx0ZGF0YS5lbCA9IG5vZGU7XG5cdFx0XHRcdGRhdGEucGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuXHRcdFx0XHRkYXRhLmRpc3BsYXkgPSBub2RlLnN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdGRhdGEucG9zaXRpb24gPSBub2RlLnN0eWxlLnBvc2l0aW9uO1xuXHRcdFx0XHRpZiAoZGF0YS5wYXJlbnQpXG5cdFx0XHRcdFx0ZGF0YS5wYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdFx0XHR9XG5cblx0XHRcdCQoZWwpLmRhdGEoJ2Jsb2NrVUkub25VbmJsb2NrJywgb3B0cy5vblVuYmxvY2spO1xuXHRcdFx0dmFyIHogPSBvcHRzLmJhc2VaO1xuXG5cdFx0XHQvLyBibG9ja1VJIHVzZXMgMyBsYXllcnMgZm9yIGJsb2NraW5nLCBmb3Igc2ltcGxpY2l0eSB0aGV5IGFyZSBhbGwgdXNlZCBvbiBldmVyeSBwbGF0Zm9ybTtcblx0XHRcdC8vIGxheWVyMSBpcyB0aGUgaWZyYW1lIGxheWVyIHdoaWNoIGlzIHVzZWQgdG8gc3VwcmVzcyBibGVlZCB0aHJvdWdoIG9mIHVuZGVybHlpbmcgY29udGVudFxuXHRcdFx0Ly8gbGF5ZXIyIGlzIHRoZSBvdmVybGF5IGxheWVyIHdoaWNoIGhhcyBvcGFjaXR5IGFuZCBhIHdhaXQgY3Vyc29yIChieSBkZWZhdWx0KVxuXHRcdFx0Ly8gbGF5ZXIzIGlzIHRoZSBtZXNzYWdlIGNvbnRlbnQgdGhhdCBpcyBkaXNwbGF5ZWQgd2hpbGUgYmxvY2tpbmdcblx0XHRcdHZhciBseXIxLCBseXIyLCBseXIzLCBzO1xuXHRcdFx0aWYgKG1zaWUgfHwgb3B0cy5mb3JjZUlmcmFtZSlcblx0XHRcdFx0bHlyMSA9ICQoJzxpZnJhbWUgY2xhc3M9XCJibG9ja1VJXCIgc3R5bGU9XCJ6LWluZGV4OicrICh6KyspICsnO2Rpc3BsYXk6bm9uZTtib3JkZXI6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjBcIiBzcmM9XCInK29wdHMuaWZyYW1lU3JjKydcIj48L2lmcmFtZT4nKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0bHlyMSA9ICQoJzxkaXYgY2xhc3M9XCJibG9ja1VJXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48L2Rpdj4nKTtcblxuXHRcdFx0aWYgKG9wdHMudGhlbWUpXG5cdFx0XHRcdGx5cjIgPSAkKCc8ZGl2IGNsYXNzPVwiYmxvY2tVSSBibG9ja092ZXJsYXkgdWktd2lkZ2V0LW92ZXJsYXlcIiBzdHlsZT1cInotaW5kZXg6JysgKHorKykgKyc7ZGlzcGxheTpub25lXCI+PC9kaXY+Jyk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGx5cjIgPSAkKCc8ZGl2IGNsYXNzPVwiYmxvY2tVSSBibG9ja092ZXJsYXlcIiBzdHlsZT1cInotaW5kZXg6JysgKHorKykgKyc7ZGlzcGxheTpub25lO2JvcmRlcjpub25lO21hcmdpbjowO3BhZGRpbmc6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2xlZnQ6MFwiPjwvZGl2PicpO1xuXG5cdFx0XHRpZiAob3B0cy50aGVtZSAmJiBmdWxsKSB7XG5cdFx0XHRcdHMgPSAnPGRpdiBjbGFzcz1cImJsb2NrVUkgJyArIG9wdHMuYmxvY2tNc2dDbGFzcyArICcgYmxvY2tQYWdlIHVpLWRpYWxvZyB1aS13aWRnZXQgdWktY29ybmVyLWFsbFwiIHN0eWxlPVwiei1pbmRleDonKyh6KzEwKSsnO2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpmaXhlZFwiPic7XG5cdFx0XHRcdGlmICggb3B0cy50aXRsZSApIHtcblx0XHRcdFx0XHRzICs9ICc8ZGl2IGNsYXNzPVwidWktd2lkZ2V0LWhlYWRlciB1aS1kaWFsb2ctdGl0bGViYXIgdWktY29ybmVyLWFsbCBibG9ja1RpdGxlXCI+Jysob3B0cy50aXRsZSB8fCAnJm5ic3A7JykrJzwvZGl2Pic7XG5cdFx0XHRcdH1cblx0XHRcdFx0cyArPSAnPGRpdiBjbGFzcz1cInVpLXdpZGdldC1jb250ZW50IHVpLWRpYWxvZy1jb250ZW50XCI+PC9kaXY+Jztcblx0XHRcdFx0cyArPSAnPC9kaXY+Jztcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKG9wdHMudGhlbWUpIHtcblx0XHRcdFx0cyA9ICc8ZGl2IGNsYXNzPVwiYmxvY2tVSSAnICsgb3B0cy5ibG9ja01zZ0NsYXNzICsgJyBibG9ja0VsZW1lbnQgdWktZGlhbG9nIHVpLXdpZGdldCB1aS1jb3JuZXItYWxsXCIgc3R5bGU9XCJ6LWluZGV4OicrKHorMTApKyc7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmFic29sdXRlXCI+Jztcblx0XHRcdFx0aWYgKCBvcHRzLnRpdGxlICkge1xuXHRcdFx0XHRcdHMgKz0gJzxkaXYgY2xhc3M9XCJ1aS13aWRnZXQtaGVhZGVyIHVpLWRpYWxvZy10aXRsZWJhciB1aS1jb3JuZXItYWxsIGJsb2NrVGl0bGVcIj4nKyhvcHRzLnRpdGxlIHx8ICcmbmJzcDsnKSsnPC9kaXY+Jztcblx0XHRcdFx0fVxuXHRcdFx0XHRzICs9ICc8ZGl2IGNsYXNzPVwidWktd2lkZ2V0LWNvbnRlbnQgdWktZGlhbG9nLWNvbnRlbnRcIj48L2Rpdj4nO1xuXHRcdFx0XHRzICs9ICc8L2Rpdj4nO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoZnVsbCkge1xuXHRcdFx0XHRzID0gJzxkaXYgY2xhc3M9XCJibG9ja1VJICcgKyBvcHRzLmJsb2NrTXNnQ2xhc3MgKyAnIGJsb2NrUGFnZVwiIHN0eWxlPVwiei1pbmRleDonKyh6KzEwKSsnO2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpmaXhlZFwiPjwvZGl2Pic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0cyA9ICc8ZGl2IGNsYXNzPVwiYmxvY2tVSSAnICsgb3B0cy5ibG9ja01zZ0NsYXNzICsgJyBibG9ja0VsZW1lbnRcIiBzdHlsZT1cInotaW5kZXg6JysoeisxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGVcIj48L2Rpdj4nO1xuXHRcdFx0fVxuXHRcdFx0bHlyMyA9ICQocyk7XG5cblx0XHRcdC8vIGlmIHdlIGhhdmUgYSBtZXNzYWdlLCBzdHlsZSBpdFxuXHRcdFx0aWYgKG1zZykge1xuXHRcdFx0XHRpZiAob3B0cy50aGVtZSkge1xuXHRcdFx0XHRcdGx5cjMuY3NzKHRoZW1lZENTUyk7XG5cdFx0XHRcdFx0bHlyMy5hZGRDbGFzcygndWktd2lkZ2V0LWNvbnRlbnQnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0bHlyMy5jc3MoY3NzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc3R5bGUgdGhlIG92ZXJsYXlcblx0XHRcdGlmICghb3B0cy50aGVtZSAvKiYmICghb3B0cy5hcHBseVBsYXRmb3JtT3BhY2l0eVJ1bGVzKSovKVxuXHRcdFx0XHRseXIyLmNzcyhvcHRzLm92ZXJsYXlDU1MpO1xuXHRcdFx0bHlyMi5jc3MoJ3Bvc2l0aW9uJywgZnVsbCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnKTtcblxuXHRcdFx0Ly8gbWFrZSBpZnJhbWUgbGF5ZXIgdHJhbnNwYXJlbnQgaW4gSUVcblx0XHRcdGlmIChtc2llIHx8IG9wdHMuZm9yY2VJZnJhbWUpXG5cdFx0XHRcdGx5cjEuY3NzKCdvcGFjaXR5JywwLjApO1xuXG5cdFx0XHQvLyQoW2x5cjFbMF0sbHlyMlswXSxseXIzWzBdXSkuYXBwZW5kVG8oZnVsbCA/ICdib2R5JyA6IGVsKTtcblx0XHRcdHZhciBsYXllcnMgPSBbbHlyMSxseXIyLGx5cjNdLCAkcGFyID0gZnVsbCA/ICQoJ2JvZHknKSA6ICQoZWwpO1xuXHRcdFx0JC5lYWNoKGxheWVycywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXMuYXBwZW5kVG8oJHBhcik7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKG9wdHMudGhlbWUgJiYgb3B0cy5kcmFnZ2FibGUgJiYgJC5mbi5kcmFnZ2FibGUpIHtcblx0XHRcdFx0bHlyMy5kcmFnZ2FibGUoe1xuXHRcdFx0XHRcdGhhbmRsZTogJy51aS1kaWFsb2ctdGl0bGViYXInLFxuXHRcdFx0XHRcdGNhbmNlbDogJ2xpJ1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWU3IG11c3QgdXNlIGFic29sdXRlIHBvc2l0aW9uaW5nIGluIHF1aXJrcyBtb2RlIGFuZCB0byBhY2NvdW50IGZvciBhY3RpdmV4IGlzc3VlcyAod2hlbiBzY3JvbGxpbmcpXG5cdFx0XHR2YXIgZXhwciA9IHNldEV4cHIgJiYgKCEkLnN1cHBvcnQuYm94TW9kZWwgfHwgJCgnb2JqZWN0LGVtYmVkJywgZnVsbCA/IG51bGwgOiBlbCkubGVuZ3RoID4gMCk7XG5cdFx0XHRpZiAoaWU2IHx8IGV4cHIpIHtcblx0XHRcdFx0Ly8gZ2l2ZSBib2R5IDEwMCUgaGVpZ2h0XG5cdFx0XHRcdGlmIChmdWxsICYmIG9wdHMuYWxsb3dCb2R5U3RyZXRjaCAmJiAkLnN1cHBvcnQuYm94TW9kZWwpXG5cdFx0XHRcdFx0JCgnaHRtbCxib2R5JykuY3NzKCdoZWlnaHQnLCcxMDAlJyk7XG5cblx0XHRcdFx0Ly8gZml4IGllNiBpc3N1ZSB3aGVuIGJsb2NrZWQgZWxlbWVudCBoYXMgYSBib3JkZXIgd2lkdGhcblx0XHRcdFx0aWYgKChpZTYgfHwgISQuc3VwcG9ydC5ib3hNb2RlbCkgJiYgIWZ1bGwpIHtcblx0XHRcdFx0XHR2YXIgdCA9IHN6KGVsLCdib3JkZXJUb3BXaWR0aCcpLCBsID0gc3ooZWwsJ2JvcmRlckxlZnRXaWR0aCcpO1xuXHRcdFx0XHRcdHZhciBmaXhUID0gdCA/ICcoMCAtICcrdCsnKScgOiAwO1xuXHRcdFx0XHRcdHZhciBmaXhMID0gbCA/ICcoMCAtICcrbCsnKScgOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gc2ltdWxhdGUgZml4ZWQgcG9zaXRpb25cblx0XHRcdFx0JC5lYWNoKGxheWVycywgZnVuY3Rpb24oaSxvKSB7XG5cdFx0XHRcdFx0dmFyIHMgPSBvWzBdLnN0eWxlO1xuXHRcdFx0XHRcdHMucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuXHRcdFx0XHRcdGlmIChpIDwgMikge1xuXHRcdFx0XHRcdFx0aWYgKGZ1bGwpXG5cdFx0XHRcdFx0XHRcdHMuc2V0RXhwcmVzc2lvbignaGVpZ2h0JywnTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0KSAtIChqUXVlcnkuc3VwcG9ydC5ib3hNb2RlbD8wOicrb3B0cy5xdWlya3Ntb2RlT2Zmc2V0SGFjaysnKSArIFwicHhcIicpO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRzLnNldEV4cHJlc3Npb24oJ2hlaWdodCcsJ3RoaXMucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQgKyBcInB4XCInKTtcblx0XHRcdFx0XHRcdGlmIChmdWxsKVxuXHRcdFx0XHRcdFx0XHRzLnNldEV4cHJlc3Npb24oJ3dpZHRoJywnalF1ZXJ5LnN1cHBvcnQuYm94TW9kZWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKyBcInB4XCInKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0cy5zZXRFeHByZXNzaW9uKCd3aWR0aCcsJ3RoaXMucGFyZW50Tm9kZS5vZmZzZXRXaWR0aCArIFwicHhcIicpO1xuXHRcdFx0XHRcdFx0aWYgKGZpeEwpIHMuc2V0RXhwcmVzc2lvbignbGVmdCcsIGZpeEwpO1xuXHRcdFx0XHRcdFx0aWYgKGZpeFQpIHMuc2V0RXhwcmVzc2lvbigndG9wJywgZml4VCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKG9wdHMuY2VudGVyWSkge1xuXHRcdFx0XHRcdFx0aWYgKGZ1bGwpIHMuc2V0RXhwcmVzc2lvbigndG9wJywnKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpIC8gMiAtICh0aGlzLm9mZnNldEhlaWdodCAvIDIpICsgKGJsYWggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSArIFwicHhcIicpO1xuXHRcdFx0XHRcdFx0cy5tYXJnaW5Ub3AgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmICghb3B0cy5jZW50ZXJZICYmIGZ1bGwpIHtcblx0XHRcdFx0XHRcdHZhciB0b3AgPSAob3B0cy5jc3MgJiYgb3B0cy5jc3MudG9wKSA/IHBhcnNlSW50KG9wdHMuY3NzLnRvcCwgMTApIDogMDtcblx0XHRcdFx0XHRcdHZhciBleHByZXNzaW9uID0gJygoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyAnK3RvcCsnKSArIFwicHhcIic7XG5cdFx0XHRcdFx0XHRzLnNldEV4cHJlc3Npb24oJ3RvcCcsZXhwcmVzc2lvbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2hvdyB0aGUgbWVzc2FnZVxuXHRcdFx0aWYgKG1zZykge1xuXHRcdFx0XHRpZiAob3B0cy50aGVtZSlcblx0XHRcdFx0XHRseXIzLmZpbmQoJy51aS13aWRnZXQtY29udGVudCcpLmFwcGVuZChtc2cpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0bHlyMy5hcHBlbmQobXNnKTtcblx0XHRcdFx0aWYgKG1zZy5qcXVlcnkgfHwgbXNnLm5vZGVUeXBlKVxuXHRcdFx0XHRcdCQobXNnKS5zaG93KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgobXNpZSB8fCBvcHRzLmZvcmNlSWZyYW1lKSAmJiBvcHRzLnNob3dPdmVybGF5KVxuXHRcdFx0XHRseXIxLnNob3coKTsgLy8gb3BhY2l0eSBpcyB6ZXJvXG5cdFx0XHRpZiAob3B0cy5mYWRlSW4pIHtcblx0XHRcdFx0dmFyIGNiID0gb3B0cy5vbkJsb2NrID8gb3B0cy5vbkJsb2NrIDogbm9PcDtcblx0XHRcdFx0dmFyIGNiMSA9IChvcHRzLnNob3dPdmVybGF5ICYmICFtc2cpID8gY2IgOiBub09wO1xuXHRcdFx0XHR2YXIgY2IyID0gbXNnID8gY2IgOiBub09wO1xuXHRcdFx0XHRpZiAob3B0cy5zaG93T3ZlcmxheSlcblx0XHRcdFx0XHRseXIyLl9mYWRlSW4ob3B0cy5mYWRlSW4sIGNiMSk7XG5cdFx0XHRcdGlmIChtc2cpXG5cdFx0XHRcdFx0bHlyMy5fZmFkZUluKG9wdHMuZmFkZUluLCBjYjIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGlmIChvcHRzLnNob3dPdmVybGF5KVxuXHRcdFx0XHRcdGx5cjIuc2hvdygpO1xuXHRcdFx0XHRpZiAobXNnKVxuXHRcdFx0XHRcdGx5cjMuc2hvdygpO1xuXHRcdFx0XHRpZiAob3B0cy5vbkJsb2NrKVxuXHRcdFx0XHRcdG9wdHMub25CbG9jay5iaW5kKGx5cjMpKCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJpbmQga2V5IGFuZCBtb3VzZSBldmVudHNcblx0XHRcdGJpbmQoMSwgZWwsIG9wdHMpO1xuXG5cdFx0XHRpZiAoZnVsbCkge1xuXHRcdFx0XHRwYWdlQmxvY2sgPSBseXIzWzBdO1xuXHRcdFx0XHRwYWdlQmxvY2tFbHMgPSAkKG9wdHMuZm9jdXNhYmxlRWxlbWVudHMscGFnZUJsb2NrKTtcblx0XHRcdFx0aWYgKG9wdHMuZm9jdXNJbnB1dClcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZvY3VzLCAyMCk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNlbnRlcihseXIzWzBdLCBvcHRzLmNlbnRlclgsIG9wdHMuY2VudGVyWSk7XG5cblx0XHRcdGlmIChvcHRzLnRpbWVvdXQpIHtcblx0XHRcdFx0Ly8gYXV0by11bmJsb2NrXG5cdFx0XHRcdHZhciB0byA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKGZ1bGwpXG5cdFx0XHRcdFx0XHQkLnVuYmxvY2tVSShvcHRzKTtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHQkKGVsKS51bmJsb2NrKG9wdHMpO1xuXHRcdFx0XHR9LCBvcHRzLnRpbWVvdXQpO1xuXHRcdFx0XHQkKGVsKS5kYXRhKCdibG9ja1VJLnRpbWVvdXQnLCB0byk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gcmVtb3ZlIHRoZSBibG9ja1xuXHRcdGZ1bmN0aW9uIHJlbW92ZShlbCwgb3B0cykge1xuXHRcdFx0dmFyIGNvdW50O1xuXHRcdFx0dmFyIGZ1bGwgPSAoZWwgPT0gd2luZG93KTtcblx0XHRcdHZhciAkZWwgPSAkKGVsKTtcblx0XHRcdHZhciBkYXRhID0gJGVsLmRhdGEoJ2Jsb2NrVUkuaGlzdG9yeScpO1xuXHRcdFx0dmFyIHRvID0gJGVsLmRhdGEoJ2Jsb2NrVUkudGltZW91dCcpO1xuXHRcdFx0aWYgKHRvKSB7XG5cdFx0XHRcdGNsZWFyVGltZW91dCh0byk7XG5cdFx0XHRcdCRlbC5yZW1vdmVEYXRhKCdibG9ja1VJLnRpbWVvdXQnKTtcblx0XHRcdH1cblx0XHRcdG9wdHMgPSAkLmV4dGVuZCh7fSwgJC5ibG9ja1VJLmRlZmF1bHRzLCBvcHRzIHx8IHt9KTtcblx0XHRcdGJpbmQoMCwgZWwsIG9wdHMpOyAvLyB1bmJpbmQgZXZlbnRzXG5cblx0XHRcdGlmIChvcHRzLm9uVW5ibG9jayA9PT0gbnVsbCkge1xuXHRcdFx0XHRvcHRzLm9uVW5ibG9jayA9ICRlbC5kYXRhKCdibG9ja1VJLm9uVW5ibG9jaycpO1xuXHRcdFx0XHQkZWwucmVtb3ZlRGF0YSgnYmxvY2tVSS5vblVuYmxvY2snKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVscztcblx0XHRcdGlmIChmdWxsKSAvLyBjcmF6eSBzZWxlY3RvciB0byBoYW5kbGUgb2RkIGZpZWxkIGVycm9ycyBpbiBpZTYvN1xuXHRcdFx0XHRlbHMgPSAkKCdib2R5JykuY2hpbGRyZW4oKS5maWx0ZXIoJy5ibG9ja1VJJykuYWRkKCdib2R5ID4gLmJsb2NrVUknKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZWxzID0gJGVsLmZpbmQoJz4uYmxvY2tVSScpO1xuXG5cdFx0XHQvLyBmaXggY3Vyc29yIGlzc3VlXG5cdFx0XHRpZiAoIG9wdHMuY3Vyc29yUmVzZXQgKSB7XG5cdFx0XHRcdGlmICggZWxzLmxlbmd0aCA+IDEgKVxuXHRcdFx0XHRcdGVsc1sxXS5zdHlsZS5jdXJzb3IgPSBvcHRzLmN1cnNvclJlc2V0O1xuXHRcdFx0XHRpZiAoIGVscy5sZW5ndGggPiAyIClcblx0XHRcdFx0XHRlbHNbMl0uc3R5bGUuY3Vyc29yID0gb3B0cy5jdXJzb3JSZXNldDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGZ1bGwpXG5cdFx0XHRcdHBhZ2VCbG9jayA9IHBhZ2VCbG9ja0VscyA9IG51bGw7XG5cblx0XHRcdGlmIChvcHRzLmZhZGVPdXQpIHtcblx0XHRcdFx0Y291bnQgPSBlbHMubGVuZ3RoO1xuXHRcdFx0XHRlbHMuc3RvcCgpLmZhZGVPdXQob3B0cy5mYWRlT3V0LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIC0tY291bnQgPT09IDApXG5cdFx0XHRcdFx0XHRyZXNldChlbHMsZGF0YSxvcHRzLGVsKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJlc2V0KGVscywgZGF0YSwgb3B0cywgZWwpO1xuXHRcdH1cblxuXHRcdC8vIG1vdmUgYmxvY2tpbmcgZWxlbWVudCBiYWNrIGludG8gdGhlIERPTSB3aGVyZSBpdCBzdGFydGVkXG5cdFx0ZnVuY3Rpb24gcmVzZXQoZWxzLGRhdGEsb3B0cyxlbCkge1xuXHRcdFx0dmFyICRlbCA9ICQoZWwpO1xuXHRcdFx0aWYgKCAkZWwuZGF0YSgnYmxvY2tVSS5pc0Jsb2NrZWQnKSApXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0ZWxzLmVhY2goZnVuY3Rpb24oaSxvKSB7XG5cdFx0XHRcdC8vIHJlbW92ZSB2aWEgRE9NIGNhbGxzIHNvIHdlIGRvbid0IGxvc2UgZXZlbnQgaGFuZGxlcnNcblx0XHRcdFx0aWYgKHRoaXMucGFyZW50Tm9kZSlcblx0XHRcdFx0XHR0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKGRhdGEgJiYgZGF0YS5lbCkge1xuXHRcdFx0XHRkYXRhLmVsLnN0eWxlLmRpc3BsYXkgPSBkYXRhLmRpc3BsYXk7XG5cdFx0XHRcdGRhdGEuZWwuc3R5bGUucG9zaXRpb24gPSBkYXRhLnBvc2l0aW9uO1xuXHRcdFx0XHRkYXRhLmVsLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JzsgLy8gIzU5XG5cdFx0XHRcdGlmIChkYXRhLnBhcmVudClcblx0XHRcdFx0XHRkYXRhLnBhcmVudC5hcHBlbmRDaGlsZChkYXRhLmVsKTtcblx0XHRcdFx0JGVsLnJlbW92ZURhdGEoJ2Jsb2NrVUkuaGlzdG9yeScpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJGVsLmRhdGEoJ2Jsb2NrVUkuc3RhdGljJykpIHtcblx0XHRcdFx0JGVsLmNzcygncG9zaXRpb24nLCAnc3RhdGljJyk7IC8vICMyMlxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIG9wdHMub25VbmJsb2NrID09ICdmdW5jdGlvbicpXG5cdFx0XHRcdG9wdHMub25VbmJsb2NrKGVsLG9wdHMpO1xuXG5cdFx0XHQvLyBmaXggaXNzdWUgaW4gU2FmYXJpIDYgd2hlcmUgYmxvY2sgYXJ0aWZhY3RzIHJlbWFpbiB1bnRpbCByZWZsb3dcblx0XHRcdHZhciBib2R5ID0gJChkb2N1bWVudC5ib2R5KSwgdyA9IGJvZHkud2lkdGgoKSwgY3NzVyA9IGJvZHlbMF0uc3R5bGUud2lkdGg7XG5cdFx0XHRib2R5LndpZHRoKHctMSkud2lkdGgodyk7XG5cdFx0XHRib2R5WzBdLnN0eWxlLndpZHRoID0gY3NzVztcblx0XHR9XG5cblx0XHQvLyBiaW5kL3VuYmluZCB0aGUgaGFuZGxlclxuXHRcdGZ1bmN0aW9uIGJpbmQoYiwgZWwsIG9wdHMpIHtcblx0XHRcdHZhciBmdWxsID0gZWwgPT0gd2luZG93LCAkZWwgPSAkKGVsKTtcblxuXHRcdFx0Ly8gZG9uJ3QgYm90aGVyIHVuYmluZGluZyBpZiB0aGVyZSBpcyBub3RoaW5nIHRvIHVuYmluZFxuXHRcdFx0aWYgKCFiICYmIChmdWxsICYmICFwYWdlQmxvY2sgfHwgIWZ1bGwgJiYgISRlbC5kYXRhKCdibG9ja1VJLmlzQmxvY2tlZCcpKSlcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHQkZWwuZGF0YSgnYmxvY2tVSS5pc0Jsb2NrZWQnLCBiKTtcblxuXHRcdFx0Ly8gZG9uJ3QgYmluZCBldmVudHMgd2hlbiBvdmVybGF5IGlzIG5vdCBpbiB1c2Ugb3IgaWYgYmluZEV2ZW50cyBpcyBmYWxzZVxuXHRcdFx0aWYgKCFmdWxsIHx8ICFvcHRzLmJpbmRFdmVudHMgfHwgKGIgJiYgIW9wdHMuc2hvd092ZXJsYXkpKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIGJpbmQgYW5jaG9ycyBhbmQgaW5wdXRzIGZvciBtb3VzZSBhbmQga2V5IGV2ZW50c1xuXHRcdFx0dmFyIGV2ZW50cyA9ICdtb3VzZWRvd24gbW91c2V1cCBrZXlkb3duIGtleXByZXNzIGtleXVwIHRvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2htb3ZlJztcblx0XHRcdGlmIChiKVxuXHRcdFx0XHQkKGRvY3VtZW50KS5iaW5kKGV2ZW50cywgb3B0cywgaGFuZGxlcik7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoZG9jdW1lbnQpLnVuYmluZChldmVudHMsIGhhbmRsZXIpO1xuXG5cdFx0Ly8gZm9ybWVyIGltcGwuLi5cblx0XHQvL1x0XHR2YXIgJGUgPSAkKCdhLDppbnB1dCcpO1xuXHRcdC8vXHRcdGIgPyAkZS5iaW5kKGV2ZW50cywgb3B0cywgaGFuZGxlcikgOiAkZS51bmJpbmQoZXZlbnRzLCBoYW5kbGVyKTtcblx0XHR9XG5cblx0XHQvLyBldmVudCBoYW5kbGVyIHRvIHN1cHByZXNzIGtleWJvYXJkL21vdXNlIGV2ZW50cyB3aGVuIGJsb2NraW5nXG5cdFx0ZnVuY3Rpb24gaGFuZGxlcihlKSB7XG5cdFx0XHQvLyBhbGxvdyB0YWIgbmF2aWdhdGlvbiAoY29uZGl0aW9uYWxseSlcblx0XHRcdGlmIChlLnR5cGUgPT09ICdrZXlkb3duJyAmJiBlLmtleUNvZGUgJiYgZS5rZXlDb2RlID09IDkpIHtcblx0XHRcdFx0aWYgKHBhZ2VCbG9jayAmJiBlLmRhdGEuY29uc3RyYWluVGFiS2V5KSB7XG5cdFx0XHRcdFx0dmFyIGVscyA9IHBhZ2VCbG9ja0Vscztcblx0XHRcdFx0XHR2YXIgZndkID0gIWUuc2hpZnRLZXkgJiYgZS50YXJnZXQgPT09IGVsc1tlbHMubGVuZ3RoLTFdO1xuXHRcdFx0XHRcdHZhciBiYWNrID0gZS5zaGlmdEtleSAmJiBlLnRhcmdldCA9PT0gZWxzWzBdO1xuXHRcdFx0XHRcdGlmIChmd2QgfHwgYmFjaykge1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe2ZvY3VzKGJhY2spO30sMTApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFyIG9wdHMgPSBlLmRhdGE7XG5cdFx0XHR2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XG5cdFx0XHRpZiAodGFyZ2V0Lmhhc0NsYXNzKCdibG9ja092ZXJsYXknKSAmJiBvcHRzLm9uT3ZlcmxheUNsaWNrKVxuXHRcdFx0XHRvcHRzLm9uT3ZlcmxheUNsaWNrKGUpO1xuXG5cdFx0XHQvLyBhbGxvdyBldmVudHMgd2l0aGluIHRoZSBtZXNzYWdlIGNvbnRlbnRcblx0XHRcdGlmICh0YXJnZXQucGFyZW50cygnZGl2LicgKyBvcHRzLmJsb2NrTXNnQ2xhc3MpLmxlbmd0aCA+IDApXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0XHQvLyBhbGxvdyBldmVudHMgZm9yIGNvbnRlbnQgdGhhdCBpcyBub3QgYmVpbmcgYmxvY2tlZFxuXHRcdFx0cmV0dXJuIHRhcmdldC5wYXJlbnRzKCkuY2hpbGRyZW4oKS5maWx0ZXIoJ2Rpdi5ibG9ja1VJJykubGVuZ3RoID09PSAwO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZvY3VzKGJhY2spIHtcblx0XHRcdGlmICghcGFnZUJsb2NrRWxzKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR2YXIgZSA9IHBhZ2VCbG9ja0Vsc1tiYWNrPT09dHJ1ZSA/IHBhZ2VCbG9ja0Vscy5sZW5ndGgtMSA6IDBdO1xuXHRcdFx0aWYgKGUpXG5cdFx0XHRcdGUuZm9jdXMoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjZW50ZXIoZWwsIHgsIHkpIHtcblx0XHRcdHZhciBwID0gZWwucGFyZW50Tm9kZSwgcyA9IGVsLnN0eWxlO1xuXHRcdFx0dmFyIGwgPSAoKHAub2Zmc2V0V2lkdGggLSBlbC5vZmZzZXRXaWR0aCkvMikgLSBzeihwLCdib3JkZXJMZWZ0V2lkdGgnKTtcblx0XHRcdHZhciB0ID0gKChwLm9mZnNldEhlaWdodCAtIGVsLm9mZnNldEhlaWdodCkvMikgLSBzeihwLCdib3JkZXJUb3BXaWR0aCcpO1xuXHRcdFx0aWYgKHgpIHMubGVmdCA9IGwgPiAwID8gKGwrJ3B4JykgOiAnMCc7XG5cdFx0XHRpZiAoeSkgcy50b3AgID0gdCA+IDAgPyAodCsncHgnKSA6ICcwJztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBzeihlbCwgcCkge1xuXHRcdFx0cmV0dXJuIHBhcnNlSW50KCQuY3NzKGVsLHApLDEwKXx8MDtcblx0XHR9XG5cblx0fVxuXG5cblx0LypnbG9iYWwgZGVmaW5lOnRydWUgKi9cblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCAmJiBkZWZpbmUuYW1kLmpRdWVyeSkge1xuXHRcdGRlZmluZShbJ2pxdWVyeSddLCBzZXR1cCk7XG5cdH0gZWxzZSB7XG5cdFx0c2V0dXAoalF1ZXJ5KTtcblx0fVxuXG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
