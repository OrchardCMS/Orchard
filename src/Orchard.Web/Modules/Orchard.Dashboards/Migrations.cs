using Orchard.ContentManagement.MetaData;
using Orchard.Core.Contents.Extensions;
using Orchard.Data.Migration;

namespace Orchard.Dashboards {
    public class Migrations : DataMigrationImpl {
        public int Create() {
            ContentDefinitionManager.AlterPartDefinition("DashboardPart", part => part
                .WithDescription("Turns your content type into an admin Dashboard."));

            ContentDefinitionManager.AlterTypeDefinition("Dashboard", type => type
                .WithPart("CommonPart")
                .WithPart("IdentityPart")
                .WithPart("TitlePart")
                .WithPart("LayoutPart", p => p
                    .WithSetting("LayoutTypePartSettings.DefaultLayoutData", "{\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Canvas\",\"data\":\"\",\"exportableData\":\"\",\"index\":0,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Grid\",\"data\":\"\",\"exportableData\":\"\",\"index\":0,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Row\",\"data\":\"\",\"exportableData\":\"\",\"index\":0,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":0,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eGet+up+and+running%3c%2fh2%3e%0d%0a%3cp%3eStart+by+exploring+the+menu+on+the+left+and+familiarize+yourself+with+Orchard.+As+for+the+basics%2c+we+suggest+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fThemes%22%3echanging+the+theme%3c%2fa%3e%2c+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fContents%2fCreate%2fPage%22%3eadding+some+pages%3c%2fa%3e%2c+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fBlogs%2fCreate%22%3esetup+up+a+blog%3c%2fa%3e%2c+and+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fSettings%2fIndex%22%3econfiguring+basic+settings%3c%2fa%3e.%3c%2fp%3e&amp;Content=%3ch2%3eGet+up+and+running%3c%2fh2%3e%0d%0a%3cp%3eStart+by+exploring+the+menu+on+the+left+and+familiarize+yourself+with+Orchard.+As+for+the+basics%2c+we+suggest+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fThemes%22%3echanging+the+theme%3c%2fa%3e%2c+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fContents%2fCreate%2fPage%22%3eadding+some+pages%3c%2fa%3e%2c+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fBlogs%2fCreate%22%3esetup+up+a+blog%3c%2fa%3e%2c+and+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fAdmin%2fSettings%2fIndex%22%3econfiguring+basic+settings%3c%2fa%3e.%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null},{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":1,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eGet+more+goodies%3c%2fh2%3e%0d%0a%3cp%3eChange+the+way+your+site+works+and+looks+with+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fPackaging%2fGallery%2fThemes%22%3ethemes%3c%2fa%3e+and+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fPackaging%2fGallery%2fModules%22%3emodules%3c%2fa%3e.+There%26rsquo%3bs+plenty+to+choose+from+in+the+%3ca+href%3d%22http%3a%2f%2fgallery.orchardproject.net%2f%22%3eOrchard+Gallery%3c%2fa%3e.+We%26rsquo%3bre+always+adding+things%2c+so+be+sure+to+check+back+often+to+see+what%26rsquo%3bs+new.%3c%2fp%3e&amp;Content=%3ch2%3eGet+more+goodies%3c%2fh2%3e%0d%0a%3cp%3eChange+the+way+your+site+works+and+looks+with+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fPackaging%2fGallery%2fThemes%22%3ethemes%3c%2fa%3e+and+%3ca+href%3d%22http%3a%2f%2flocalhost%3a30321%2fOrchardLocal%2fPackaging%2fGallery%2fModules%22%3emodules%3c%2fa%3e.+There%26rsquo%3bs+plenty+to+choose+from+in+the+%3ca+href%3d%22http%3a%2f%2fgallery.orchardproject.net%2f%22%3eOrchard+Gallery%3c%2fa%3e.+We%26rsquo%3bre+always+adding+things%2c+so+be+sure+to+check+back+often+to+see+what%26rsquo%3bs+new.%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null},{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":2,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eRead+the+docs%3c%2fh2%3e%0d%0a%3cp%3eAre+you+ready+to+go+deeper+and+become+an+Orchard+expert%3f+Take+a+look+at+the+%3ca+href%3d%22http%3a%2f%2fdocs.orchardproject.net%2f%22%3eOrchard+Documentation%3c%2fa%3e+to+learn+about+how+everything+connects+together+and+what+makes+Orchard+tick.%3c%2fp%3e&amp;Content=%3ch2%3eRead+the+docs%3c%2fh2%3e%0d%0a%3cp%3eAre+you+ready+to+go+deeper+and+become+an+Orchard+expert%3f+Take+a+look+at+the+%3ca+href%3d%22http%3a%2f%2fdocs.orchardproject.net%2f%22%3eOrchard+Documentation%3c%2fa%3e+to+learn+about+how+everything+connects+together+and+what+makes+Orchard+tick.%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null},{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":3,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eMake+friends%3c%2fh2%3e%0d%0a%3cp%3eFind+friends+that+share+your+interest+of+Orchard.+There+are+a+couple+ways+that+you+can+%3ca+href%3d%22http%3a%2f%2forchardproject.net%2fdiscussions%22%3ediscuss+and+get+connected%3c%2fa%3e+to+the+project+including+mailing+lists%2c+forums+and+IRC.%3c%2fp%3e&amp;Content=%3ch2%3eMake+friends%3c%2fh2%3e%0d%0a%3cp%3eFind+friends+that+share+your+interest+of+Orchard.+There+are+a+couple+ways+that+you+can+%3ca+href%3d%22http%3a%2f%2forchardproject.net%2fdiscussions%22%3ediscuss+and+get+connected%3c%2fa%3e+to+the+project+including+mailing+lists%2c+forums+and+IRC.%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null},{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":4,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eContribute+back%3c%2fh2%3e%0d%0a%3cp%3eHelp+grow+Orchard.+We+encourage+contributions+of+all+sorts%2c+including+code+submissions%2c+documentation%2c+translations%2c+feature+recommendations%2c+and+more.+Here+are+some+ways+to+%3ca+href%3d%22http%3a%2f%2forchardproject.net%2fcontribution%22%3egive+back+to+the+project%3c%2fa%3e.%3c%2fp%3e&amp;Content=%3ch2%3eContribute+back%3c%2fh2%3e%0d%0a%3cp%3eHelp+grow+Orchard.+We+encourage+contributions+of+all+sorts%2c+including+code+submissions%2c+documentation%2c+translations%2c+feature+recommendations%2c+and+more.+Here+are+some+ways+to+%3ca+href%3d%22http%3a%2f%2forchardproject.net%2fcontribution%22%3egive+back+to+the+project%3c%2fa%3e.%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null},{\"typeName\":\"Orchard.Layouts.Elements.Column\",\"data\":\"Width=2&amp;Offset=0&amp;Collapsible=null\",\"exportableData\":\"\",\"index\":5,\"elements\":[{\"typeName\":\"Orchard.Layouts.Elements.Html\",\"data\":\"TypeName=Orchard.Layouts.Elements.Html&amp;Text=%3ch2%3eStay+up+to+date%3c%2fh2%3e%0d%0a%3cp%3e%3ciframe+width%3d%22100%25%22+height%3d%22100%25%22+scrolling%3d%22no%22+frameborder%3d%220%22+src%3d%22http%3a%2f%2fwww.orchardproject.net%2fadvisory%22+id%3d%22advisory%22%3e%0d%0a+%26lt%3bp%26gt%3bYour+browser+does+not+support+iframes.+You+can%27t+see+advisory+messages.%26lt%3b%2fp%26gt%3b%3c%2fiframe%3e%3c%2fp%3e&amp;Content=%3ch2%3eStay+up+to+date%3c%2fh2%3e%0d%0a%3cp%3e%3ciframe+width%3d%22100%25%22+height%3d%22100%25%22+scrolling%3d%22no%22+frameborder%3d%220%22+src%3d%22http%3a%2f%2fwww.orchardproject.net%2fadvisory%22+id%3d%22advisory%22%3e%0d%0a+%26lt%3bp%26gt%3bYour+browser+does+not+support+iframes.+You+can%27t+see+advisory+messages.%26lt%3b%2fp%26gt%3b%3c%2fiframe%3e%3c%2fp%3e\",\"exportableData\":\"\",\"index\":0,\"elements\":[],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":null,\"htmlClass\":null,\"htmlStyle\":null,\"rule\":null}],\"isTemplated\":false,\"htmlId\":\"\",\"htmlClass\":\"\",\"htmlStyle\":\"\",\"rule\":\"\"}]}"))
                .WithPart("DashboardPart"));

            return 1;
        } 
    }
}