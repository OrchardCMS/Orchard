/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

(function ($) {
    $(document).ready(function () {
        $('.comment-reply-form-settings').map(function () {
            var $self = $(this);
            var contentItemId = $self.data("contentitem-id");
            var activeCommentId = $self.data('active-comment-id');

            InitializeCommentReplyUI(contentItemId, activeCommentId);
        });

        $('.comment-reply-button').click(function () {
            var $self = $(this);
            var contentItemId = $self.data("contentitem-id");
            var commentId = $self.data('id');

            MoveFormToReplyFormBeacon(contentItemId, commentId);

            $('.comment-reply-button[data-contentitem-id="' + contentItemId + '"]').show();
            $('.comment-reply-button[data-contentitem-id="' + contentItemId + '"][data-id="' + commentId + '"]').fadeOut("fast");
            return false;
        });
    });

    function InitializeCommentReplyUI(contentItemId, activeCommentId) {
        MoveFormToReplyFormBeacon(contentItemId, activeCommentId);

        if (activeCommentId === "root") {
            $('.comment-reply-button[data-contentitem-id="' + contentItemId + '"][data-id="root"]').hide();
        }
    }

    function MoveFormToReplyFormBeacon(contentItemId, commentId) {
        // update the repliedOn with the current comment id
        if (commentId !== "root") {
            var $reply = $('.comments-repliedon[data-contentitem-id="' + contentItemId + '"]');
            $reply.val(commentId);
        }

        // move the form
        var $replyFormBeacon = $('.comment-reply-form-beacon[data-contentitem-id="' + contentItemId + '"][data-id="' + commentId + '"]');
        $('.comment-form[data-contentitem-id="' + contentItemId + '"]')
            .slideUp("fast", function () {
                $(this)
                    .appendTo($replyFormBeacon)
                    .slideDown();
            });
    }
})(jQuery)
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yY2hhcmQuQ29tbWVudHMuVGhyZWFkZWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEFBTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ik9yY2hhcmQuQ29tbWVudHMuVGhyZWFkZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQpIHtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcuY29tbWVudC1yZXBseS1mb3JtLXNldHRpbmdzJykubWFwKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRJdGVtSWQgPSAkc2VsZi5kYXRhKFwiY29udGVudGl0ZW0taWRcIik7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVDb21tZW50SWQgPSAkc2VsZi5kYXRhKCdhY3RpdmUtY29tbWVudC1pZCcpO1xyXG5cclxuICAgICAgICAgICAgSW5pdGlhbGl6ZUNvbW1lbnRSZXBseVVJKGNvbnRlbnRJdGVtSWQsIGFjdGl2ZUNvbW1lbnRJZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5jb21tZW50LXJlcGx5LWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRzZWxmID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRlbnRJdGVtSWQgPSAkc2VsZi5kYXRhKFwiY29udGVudGl0ZW0taWRcIik7XHJcbiAgICAgICAgICAgIHZhciBjb21tZW50SWQgPSAkc2VsZi5kYXRhKCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgTW92ZUZvcm1Ub1JlcGx5Rm9ybUJlYWNvbihjb250ZW50SXRlbUlkLCBjb21tZW50SWQpO1xyXG5cclxuICAgICAgICAgICAgJCgnLmNvbW1lbnQtcmVwbHktYnV0dG9uW2RhdGEtY29udGVudGl0ZW0taWQ9XCInICsgY29udGVudEl0ZW1JZCArICdcIl0nKS5zaG93KCk7XHJcbiAgICAgICAgICAgICQoJy5jb21tZW50LXJlcGx5LWJ1dHRvbltkYXRhLWNvbnRlbnRpdGVtLWlkPVwiJyArIGNvbnRlbnRJdGVtSWQgKyAnXCJdW2RhdGEtaWQ9XCInICsgY29tbWVudElkICsgJ1wiXScpLmZhZGVPdXQoXCJmYXN0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBJbml0aWFsaXplQ29tbWVudFJlcGx5VUkoY29udGVudEl0ZW1JZCwgYWN0aXZlQ29tbWVudElkKSB7XHJcbiAgICAgICAgTW92ZUZvcm1Ub1JlcGx5Rm9ybUJlYWNvbihjb250ZW50SXRlbUlkLCBhY3RpdmVDb21tZW50SWQpO1xyXG5cclxuICAgICAgICBpZiAoYWN0aXZlQ29tbWVudElkID09PSBcInJvb3RcIikge1xyXG4gICAgICAgICAgICAkKCcuY29tbWVudC1yZXBseS1idXR0b25bZGF0YS1jb250ZW50aXRlbS1pZD1cIicgKyBjb250ZW50SXRlbUlkICsgJ1wiXVtkYXRhLWlkPVwicm9vdFwiXScpLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gTW92ZUZvcm1Ub1JlcGx5Rm9ybUJlYWNvbihjb250ZW50SXRlbUlkLCBjb21tZW50SWQpIHtcclxuICAgICAgICAvLyB1cGRhdGUgdGhlIHJlcGxpZWRPbiB3aXRoIHRoZSBjdXJyZW50IGNvbW1lbnQgaWRcclxuICAgICAgICBpZiAoY29tbWVudElkICE9PSBcInJvb3RcIikge1xyXG4gICAgICAgICAgICB2YXIgJHJlcGx5ID0gJCgnLmNvbW1lbnRzLXJlcGxpZWRvbltkYXRhLWNvbnRlbnRpdGVtLWlkPVwiJyArIGNvbnRlbnRJdGVtSWQgKyAnXCJdJyk7XHJcbiAgICAgICAgICAgICRyZXBseS52YWwoY29tbWVudElkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1vdmUgdGhlIGZvcm1cclxuICAgICAgICB2YXIgJHJlcGx5Rm9ybUJlYWNvbiA9ICQoJy5jb21tZW50LXJlcGx5LWZvcm0tYmVhY29uW2RhdGEtY29udGVudGl0ZW0taWQ9XCInICsgY29udGVudEl0ZW1JZCArICdcIl1bZGF0YS1pZD1cIicgKyBjb21tZW50SWQgKyAnXCJdJyk7XHJcbiAgICAgICAgJCgnLmNvbW1lbnQtZm9ybVtkYXRhLWNvbnRlbnRpdGVtLWlkPVwiJyArIGNvbnRlbnRJdGVtSWQgKyAnXCJdJylcclxuICAgICAgICAgICAgLnNsaWRlVXAoXCJmYXN0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJHJlcGx5Rm9ybUJlYWNvbilcclxuICAgICAgICAgICAgICAgICAgICAuc2xpZGVEb3duKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59KShqUXVlcnkpIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
